"use strict";var e=require("react/jsx-runtime"),t=require("@visx/axis"),i=require("@visx/event"),a=require("@visx/group"),r=require("@visx/scale"),l=require("@visx/shape"),o=require("@visx/tooltip"),s=require("clsx"),n=require("react"),d=require("../../providers/theme/theme-provider.js"),h=require("../grid-control/grid-control.js"),c=require("../legend/base-legend.js"),p=require("../shared/with-responsive.js"),u=require("../tooltip/base-tooltip.js"),x=require("./bar-chart.module.scss.js");const m=({data:p,margin:m={top:20,right:20,bottom:40,left:40},withTooltips:v=!1,showLegend:g=!1,legendOrientation:b="horizontal",className:j,gridVisibility:q="x",width:f,height:w=400})=>{const y=d.useChartTheme(),{tooltipOpen:L,tooltipLeft:T,tooltipTop:B,tooltipData:M,hideTooltip:N,showTooltip:C}=o.useTooltip(),S=n.useCallback(((e,t,a,r,l)=>{const o=i.localPoint(e);o&&C({tooltipData:{value:t,xLabel:a,yLabel:r,seriesIndex:l},tooltipLeft:o.x,tooltipTop:o.y-10})}),[C]),k=n.useCallback((()=>{N()}),[N]);if(!p?.length)return e.jsx("div",{className:s("bar-chart-empty",x["bat-chart-empty"]),children:"Empty..."});const A=m,D=f-A.left-A.right,G=w-A.top-A.bottom,O=p[0].data?.map((e=>e?.label||"")),V=r.scaleBand({range:[0,D],domain:O,padding:.2}),$=r.scaleBand({range:[0,V.bandwidth()],domain:p.map(((e,t)=>t.toString())),padding:.1}),z=r.scaleLinear({range:[G,0],domain:[0,Math.max(...p.map((e=>Math.max(...e.data.map((e=>e?.value||0))))))]}),E=p.map(((e,t)=>({label:e.label,value:"",color:y.colors[t%y.colors.length]})));return e.jsxs("div",{className:s("bar-chart",j,x["bar-chart"]),children:[e.jsx("svg",{width:f,height:w,children:e.jsxs(a.Group,{left:A.left,top:A.top,children:[e.jsx(h,{width:D,height:G,xScale:V,yScale:z,gridVisibility:q}),p.map(((t,i)=>e.jsx(a.Group,{children:t.data.map((a=>{const r=V(a?.label||"");if(void 0===r)return null;const o=$.bandwidth(),s=r+($(i.toString())??0);return e.jsx(l.Bar,{x:s,y:z(a.value),width:o,height:G-(z(a.value)??0),fill:y.colors[i%y.colors.length],onMouseMove:v?e=>S(e,a.value,a?.label||"",t.label,i):void 0,onMouseLeave:v?k:void 0},`bar-${i}-${a.label}`)}))},i))),e.jsx(t.AxisLeft,{scale:z}),e.jsx(t.AxisBottom,{scale:V,top:G})]})}),v&&L&&M&&e.jsx(u.BaseTooltip,{top:B||0,left:T||0,children:e.jsxs("div",{children:[e.jsx("div",{children:M.yLabel}),e.jsxs("div",{children:[M.xLabel,": ",M.value]})]})}),g&&e.jsx(c.BaseLegend,{items:E,orientation:b,className:x["bar-chart-legend"]})]})};m.displayName="BarChart";var v=p.withResponsive(m);module.exports=v;
//# sourceMappingURL=bar-chart.js.map
