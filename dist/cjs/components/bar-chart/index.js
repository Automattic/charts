"use strict";var e=require("react/jsx-runtime"),l=require("@visx/axis"),t=require("@visx/event"),a=require("@visx/group"),i=require("@visx/scale"),r=require("@visx/shape"),s=require("@visx/tooltip"),o=require("clsx"),n=require("react"),d=require("@visx/grid"),c=require("@visx/legend"),h=require("@visx/responsive");const g=n.createContext({backgroundColor:"#FFFFFF",labelBackgroundColor:"#FFFFFF",colors:["#98C8DF","#006DAB","#A6DC80","#1F9828","#FF8C8F"],gridStyles:{stroke:"#787C82",strokeWidth:1},tickLength:0,gridColor:"",gridColorDark:""});var m="grid-control-module__grid-control__KOnZN";const u=({width:l,height:t,xScale:a,yScale:i,gridVisibility:r="x",top:s=0})=>e.jsxs("g",{transform:`translate(0, ${s})`,className:m,children:[r.includes("x")&&e.jsx(d.GridRows,{scale:a,width:l}),r.includes("y")&&e.jsx(d.GridColumns,{scale:i,height:t})]});var x={"legend--horizontal":"legend-module__legend--horizontal__IUN13","legend--vertical":"legend-module__legend--vertical__Scfzo","legend-item":"legend-module__legend-item__feemn","legend-item-swatch":"legend-module__legend-item-swatch__nRyXf","legend-item-label":"legend-module__legend-item-label__ksx6I","legend-item-value":"legend-module__legend-item-value__d9x1j"};const p={horizontal:"row",vertical:"column"},v=({items:l,className:t,orientation:a="horizontal"})=>{const r=i.scaleOrdinal({domain:l.map((e=>e.label)),range:l.map((e=>e.color))});return e.jsx("div",{className:o(x.legend,x[`legend--${a}`],t),role:"list",children:e.jsx(c.LegendOrdinal,{scale:r,direction:p[a],shape:"rect",shapeWidth:16,shapeHeight:16,className:x["legend-items"],children:t=>e.jsx("div",{className:x[`legend--${a}`],children:t.map((t=>e.jsxs("div",{className:x["legend-item"],children:[e.jsx("svg",{width:16,height:16,children:e.jsx("rect",{width:16,height:16,fill:t.value,className:x["legend-item-swatch"]})}),e.jsxs("span",{className:x["legend-item-label"],children:[t.text,l.find((e=>e.label===t.text))?.value&&e.jsx("span",{className:x["legend-item-value"],children:l.find((e=>e.label===t.text))?.value})]})]},t.text)))})})})};var b="base-tooltip-module__tooltip__OfX6n";const _=({data:l})=>e.jsxs(e.Fragment,{children:[l?.label,": ",l?.valueDisplay||l?.value]}),j=({data:l,top:t,left:a,component:i=_,children:r,className:s})=>e.jsx("div",{className:b,style:{top:t,left:a},role:"tooltip",children:r||l&&e.jsx(i,{data:l,className:s})});var f={"bar-chart":"bar-chart-module__bar-chart__lmYNi","bar-chart-legend":"bar-chart-module__bar-chart-legend__vgKKq"};const w=({data:d,margin:c={top:20,right:20,bottom:40,left:40},withTooltips:h=!1,showLegend:m=!1,legendOrientation:x="horizontal",className:p,gridVisibility:b="x",width:_,height:w=400})=>{const N=n.useContext(g),{tooltipOpen:y,tooltipLeft:F,tooltipTop:C,tooltipData:q,hideTooltip:L,showTooltip:S}=s.useTooltip(),k=n.useCallback(((e,l,a,i,r)=>{const s=t.localPoint(e);s&&S({tooltipData:{value:l,xLabel:a,yLabel:i,seriesIndex:r},tooltipLeft:s.x,tooltipTop:s.y-10})}),[S]),z=n.useCallback((()=>{L()}),[L]);if(!d?.length)return e.jsx("div",{className:o("bar-chart-empty",f["bat-chart-empty"]),children:"Empty..."});const B=c,D=_-B.left-B.right,T=w-B.top-B.bottom,M=d[0].data?.map((e=>e?.label||"")),O=i.scaleBand({range:[0,D],domain:M,padding:.2}),$=i.scaleBand({range:[0,O.bandwidth()],domain:d.map(((e,l)=>l.toString())),padding:.1}),A=i.scaleLinear({range:[T,0],domain:[0,Math.max(...d.map((e=>Math.max(...e.data.map((e=>e?.value||0))))))]}),G=d.map(((e,l)=>({label:e.label,value:"",color:N.colors[l%N.colors.length]})));return e.jsxs("div",{className:o("bar-chart",p,f["bar-chart"]),children:[e.jsx("svg",{width:_,height:w,children:e.jsxs(a.Group,{left:B.left,top:B.top,children:[e.jsx(u,{width:D,height:T,xScale:O,yScale:A,gridVisibility:b}),d.map(((l,t)=>e.jsx(a.Group,{children:l.data.map((a=>{const i=O(a?.label||"");if(void 0===i)return null;const s=$.bandwidth(),o=i+($(t.toString())??0);return e.jsx(r.Bar,{x:o,y:A(a.value),width:s,height:T-(A(a.value)??0),fill:N.colors[t%N.colors.length],onMouseMove:h?e=>k(e,a.value,a?.label||"",l.label,t):void 0,onMouseLeave:h?z:void 0},`bar-${t}-${a.label}`)}))},t))),e.jsx(l.AxisLeft,{scale:A}),e.jsx(l.AxisBottom,{scale:O,top:T})]})}),h&&y&&q&&e.jsx(j,{top:C||0,left:F||0,children:e.jsxs("div",{children:[e.jsx("div",{children:q.yLabel}),e.jsxs("div",{children:[q.xLabel,": ",q.value]})]})}),m&&e.jsx(v,{items:G,orientation:x,className:f["bar-chart-legend"]})]})};w.displayName="BarChart";var N=function(l,t){const{maxWidth:a=1200,aspectRatio:i=.5,debounceTime:r=50}=t||{};return function(t){const{parentRef:s,width:o}=h.useParentSize({debounceTime:r,enableDebounceLeadingCall:!0,initialSize:{width:600,height:400}}),n=o?Math.min(o,a):600,d=n*i;return e.jsx("div",{ref:s,style:{width:"100%",minHeight:`${d}px`},children:e.jsx(l,{width:n,height:d,size:n,...t})})}}(w);exports.BarChart=N;
//# sourceMappingURL=index.js.map
