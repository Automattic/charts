"use strict";var e=require("react/jsx-runtime"),t=require("@visx/gradient"),l=require("@visx/xychart"),i=require("clsx"),a=require("react"),r=require("@visx/legend"),n=require("@visx/scale"),o=require("@visx/responsive");const s=a.createContext({backgroundColor:"#FFFFFF",labelBackgroundColor:"#FFFFFF",colors:["#98C8DF","#006DAB","#A6DC80","#1F9828","#FF8C8F"],gridStyles:{stroke:"#787C82",strokeWidth:1},tickLength:0,gridColor:"",gridColorDark:""});var d={"legend--horizontal":"legend-module__legend--horizontal__IUN13","legend--vertical":"legend-module__legend--vertical__Scfzo","legend-item":"legend-module__legend-item__feemn","legend-item-swatch":"legend-module__legend-item-swatch__nRyXf","legend-item-label":"legend-module__legend-item-label__ksx6I","legend-item-value":"legend-module__legend-item-value__d9x1j"};const c={horizontal:"row",vertical:"column"},h=({items:t,className:l,orientation:a="horizontal"})=>{const o=n.scaleOrdinal({domain:t.map((e=>e.label)),range:t.map((e=>e.color))});return e.jsx("div",{className:i(d.legend,d[`legend--${a}`],l),role:"list",children:e.jsx(r.LegendOrdinal,{scale:o,direction:c[a],shape:"rect",shapeWidth:16,shapeHeight:16,className:d["legend-items"],children:l=>e.jsx("div",{className:d[`legend--${a}`],children:l.map((l=>e.jsxs("div",{className:d["legend-item"],children:[e.jsx("svg",{width:16,height:16,children:e.jsx("rect",{width:16,height:16,fill:l.value,className:d["legend-item-swatch"]})}),e.jsxs("span",{className:d["legend-item-label"],children:[l.text,t.find((e=>e.label===l.text))?.value&&e.jsx("span",{className:d["legend-item-value"],children:t.find((e=>e.label===l.text))?.value})]})]},l.text)))})})})};var m={"line-chart":"line-chart-module__line-chart__ITM3d","line-chart__tooltip":"line-chart-module__line-chart__tooltip__aqcme","line-chart__tooltip-date":"line-chart-module__line-chart__tooltip-date__4Dzab","line-chart__tooltip-row":"line-chart-module__line-chart__tooltip-row__6A37G","line-chart__tooltip-label":"line-chart-module__line-chart__tooltip-label__IvnFF"};const g=({tooltipData:t})=>{const l=t?.nearestDatum?.datum;if(!l)return null;const i=Object.entries(t?.datumByKey||{}).map((([e,{datum:t}])=>({key:e,value:t.value}))).sort(((e,t)=>t.value-e.value));return e.jsxs("div",{className:m["line-chart__tooltip"],children:[e.jsx("div",{className:m["line-chart__tooltip-date"],children:l.date.toLocaleDateString()}),i.map((t=>e.jsxs("div",{className:m["line-chart__tooltip-row"],children:[e.jsxs("span",{className:m["line-chart__tooltip-label"],children:[t.key,":"]}),e.jsx("span",{className:m["line-chart__tooltip-value"],children:t.value})]},t.key)))]})},_=e=>new Date(e).toLocaleDateString(void 0,{month:"short",day:"numeric"});var u=function(t,l){const{maxWidth:i=1200,aspectRatio:a=.5,debounceTime:r=50}=l||{};return function(l){const{parentRef:n,width:s}=o.useParentSize({debounceTime:r,enableDebounceLeadingCall:!0,initialSize:{width:600,height:400}}),d=s?Math.min(s,i):600,c=d*a;return e.jsx("div",{ref:n,style:{width:"100%",minHeight:`${c}px`},children:e.jsx(t,{width:d,height:c,size:d,...l})})}}((({data:r,width:n,height:o,margin:d={top:20,right:20,bottom:40,left:40},className:c,withTooltips:u=!0,showLegend:x=!1,legendOrientation:p="horizontal",withGradientFill:v=!1,options:j={}})=>{const b=a.useContext(s);if(!r?.length)return e.jsx("div",{className:i("line-chart-empty",m["line-chart-empty"]),children:"Empty..."});const k=r.map(((e,t)=>({label:e.label,value:"",color:b.colors[t%b.colors.length]}))),y={xAccessor:e=>e.date,yAccessor:e=>e.value},F=l.buildChartTheme({backgroundColor:b.backgroundColor,colors:b.colors,gridStyles:b.gridStyles,tickLength:b?.tickLength||0,gridColor:b?.gridColor||"",gridColorDark:b?.gridColorDark||""});return e.jsxs("div",{className:i("line-chart",m["line-chart"],c),children:[e.jsxs(l.XYChart,{theme:F,width:n,height:o,margin:d,xScale:{type:"time"},yScale:{type:"linear",nice:!0},children:[e.jsx(l.AnimatedGrid,{columns:!1,numTicks:4}),e.jsx(l.AnimatedAxis,{orientation:"bottom",numTicks:5,tickFormat:_,...j?.axis?.x}),e.jsx(l.AnimatedAxis,{orientation:"left",numTicks:4,...j?.axis?.y}),r.map(((i,a)=>{const r=i.options?.stroke??F.colors[a%F.colors.length];return e.jsxs(e.Fragment,{children:[e.jsx(t.LinearGradient,{id:`area-gradient-${a+1}`,from:r,to:"white",toOpacity:.1,...i.options?.gradient}),e.jsx(l.AnimatedLineSeries,{dataKey:i?.label,data:i.data,...y,stroke:r,strokeWidth:2},i?.label),v&&e.jsx(l.AnimatedAreaSeries,{dataKey:i?.label,data:i.data,...y,stroke:r,strokeWidth:0,fill:`url(#area-gradient-${a+1})`,renderLine:!1},i?.label)]})})),u&&e.jsx(l.Tooltip,{snapTooltipToDatumX:!0,snapTooltipToDatumY:!0,showSeriesGlyphs:!0,renderTooltip:g})]}),x&&e.jsx(h,{items:k,orientation:p,className:m["line-chart-legend"]})]})}));exports.LineChart=u;
//# sourceMappingURL=index.js.map
