"use strict";var e=require("react/jsx-runtime"),t=require("@visx/gradient"),r=require("@visx/xychart"),i=require("clsx"),a=require("react"),o=require("../../providers/theme/theme-provider.js"),s=require("../legend/base-legend.js"),l=require("../shared/with-responsive.js"),n=require("./line-chart.module.scss.js");const c=({tooltipData:t})=>{const r=t?.nearestDatum?.datum;if(!r)return null;const i=Object.entries(t?.datumByKey||{}).map((([e,{datum:t}])=>({key:e,value:t.value}))).sort(((e,t)=>t.value-e.value));return e.jsxs("div",{className:n["line-chart__tooltip"],children:[e.jsx("div",{className:n["line-chart__tooltip-date"],children:r.date.toLocaleDateString()}),i.map((t=>e.jsxs("div",{className:n["line-chart__tooltip-row"],children:[e.jsxs("span",{className:n["line-chart__tooltip-label"],children:[t.key,":"]}),e.jsx("span",{className:n["line-chart__tooltip-value"],children:t.value})]},t.key)))]})},d=e=>new Date(e).toLocaleDateString(void 0,{month:"short",day:"numeric"});var h=l.withResponsive((({data:l,width:h,height:m,className:u,margin:p={},withTooltips:g=!0,showLegend:x=!1,legendOrientation:v="horizontal",withGradientFill:j=!1,options:y={}})=>{const k=o.useChartTheme(),b=a.useMemo((()=>{const e=l?.map((e=>e.options?.stroke??"")).filter(Boolean)??[];return r.buildChartTheme({backgroundColor:k.backgroundColor,colors:[...e,...k.colors],gridStyles:k.gridStyles,tickLength:k?.tickLength||0,gridColor:k?.gridColor||"",gridColorDark:k?.gridColorDark||""})}),[k,l]);if(!l?.length)return e.jsx("div",{className:i("line-chart-empty",n["line-chart-empty"]),children:"Empty..."});const T=l.map(((e,t)=>({label:e.label,value:"",color:k.colors[t%k.colors.length]}))),w={xAccessor:e=>e.date,yAccessor:e=>e.value};return e.jsxs("div",{className:i("line-chart",n["line-chart"],u),children:[e.jsxs(r.XYChart,{theme:b,width:h,height:m,margin:{top:20,right:20,bottom:40,left:40,...p},xScale:{type:"time",...y?.xScale},yScale:{type:"linear",nice:!0,zero:!1,...y?.yScale},children:[e.jsx(r.AnimatedGrid,{columns:!1,numTicks:4}),e.jsx(r.AnimatedAxis,{orientation:"bottom",numTicks:5,tickFormat:d,...y?.axis?.x}),e.jsx(r.AnimatedAxis,{orientation:"left",numTicks:4,...y?.axis?.y}),l.map(((i,a)=>{const o=i.options?.stroke??b.colors[a%b.colors.length];return e.jsxs(e.Fragment,{children:[e.jsx(t.LinearGradient,{id:`area-gradient-${a+1}`,from:o,to:"white",toOpacity:.1,...i.options?.gradient}),e.jsx(r.AnimatedAreaSeries,{dataKey:i?.label,data:i.data,...w,fill:j?`url(#area-gradient-${a+1})`:void 0,renderLine:!0},i?.label)]})})),g&&e.jsx(r.Tooltip,{snapTooltipToDatumX:!0,snapTooltipToDatumY:!0,showSeriesGlyphs:!0,renderTooltip:c})]}),x&&e.jsx(s.BaseLegend,{items:T,orientation:v,className:n["line-chart-legend"]})]})}));module.exports=h;
//# sourceMappingURL=line-chart.js.map
