"use strict";var e=require("react/jsx-runtime"),t=require("@visx/curve"),r=require("@visx/gradient"),i=require("@visx/xychart"),a=require("clsx"),o=require("react"),s=require("../../providers/theme/theme-provider.js"),l=require("../legend/base-legend.js"),n=require("../shared/with-responsive.js"),c=require("./line-chart.module.scss.js");const d=({tooltipData:t})=>{const r=t?.nearestDatum?.datum;if(!r)return null;const i=Object.entries(t?.datumByKey||{}).map((([e,{datum:t}])=>({key:e,value:t.value}))).sort(((e,t)=>t.value-e.value));return e.jsxs("div",{className:c["line-chart__tooltip"],children:[e.jsx("div",{className:c["line-chart__tooltip-date"],children:r.date.toLocaleDateString()}),i.map((t=>e.jsxs("div",{className:c["line-chart__tooltip-row"],children:[e.jsxs("span",{className:c["line-chart__tooltip-label"],children:[t.key,":"]}),e.jsx("span",{className:c["line-chart__tooltip-value"],children:t.value})]},t.key)))]})},h=e=>new Date(e).toLocaleDateString(void 0,{month:"short",day:"numeric"});var m=n.withResponsive((({data:n,width:m,height:u,className:p,margin:g={},withTooltips:x=!0,showLegend:v=!1,legendOrientation:j="horizontal",withGradientFill:y=!1,options:k={}})=>{const b=s.useChartTheme(),T=o.useMemo((()=>{const e=n?.map((e=>e.options?.stroke??"")).filter(Boolean)??[];return i.buildChartTheme({backgroundColor:b.backgroundColor,colors:[...e,...b.colors],gridStyles:b.gridStyles,tickLength:b?.tickLength||0,gridColor:b?.gridColor||"",gridColorDark:b?.gridColorDark||""})}),[b,n]);if(!n?.length)return e.jsx("div",{className:a("line-chart-empty",c["line-chart-empty"]),children:"Empty..."});const w=n.map(((e,t)=>({label:e.label,value:"",color:b.colors[t%b.colors.length]}))),q={xAccessor:e=>e.date,yAccessor:e=>e.value};return e.jsxs("div",{className:a("line-chart",c["line-chart"],p),children:[e.jsxs(i.XYChart,{theme:T,width:m,height:u,margin:{top:20,right:20,bottom:40,left:40,...g},xScale:{type:"time",...k?.xScale},yScale:{type:"linear",nice:!0,zero:!1,...k?.yScale},children:[e.jsx(i.AnimatedGrid,{columns:!1,numTicks:4}),e.jsx(i.AnimatedAxis,{orientation:"bottom",numTicks:5,tickFormat:h,...k?.axis?.x}),e.jsx(i.AnimatedAxis,{orientation:"left",numTicks:4,...k?.axis?.y}),n.map(((a,o)=>{const s=a.options?.stroke??T.colors[o%T.colors.length];return e.jsxs(e.Fragment,{children:[e.jsx(r.LinearGradient,{id:`area-gradient-${o+1}`,from:s,to:"white",toOpacity:.1,...a.options?.gradient}),e.jsx(i.AnimatedAreaSeries,{dataKey:a?.label,data:a.data,...q,fill:y?`url(#area-gradient-${o+1})`:void 0,renderLine:!0,curve:t.curveNatural},a?.label)]})})),x&&e.jsx(i.Tooltip,{snapTooltipToDatumX:!0,snapTooltipToDatumY:!0,showSeriesGlyphs:!0,renderTooltip:d})]}),v&&e.jsx(l.BaseLegend,{items:w,orientation:j,className:c["line-chart-legend"]})]})}));module.exports=m;
//# sourceMappingURL=line-chart.js.map
