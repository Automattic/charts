"use strict";var e=require("react/jsx-runtime"),l=require("@visx/event"),i=require("@visx/group"),t=require("@visx/shape/lib/shapes/Pie"),a=require("@visx/text"),s=require("@visx/tooltip"),r=require("clsx"),o=require("react"),n=require("@visx/legend"),c=require("@visx/scale"),d=require("@visx/responsive");const h=o.createContext({backgroundColor:"#FFFFFF",labelBackgroundColor:"#FFFFFF",colors:["#98C8DF","#006DAB","#A6DC80","#1F9828","#FF8C8F"],gridStyles:{stroke:"#787C82",strokeWidth:1},tickLength:0,gridColor:"",gridColorDark:""});var u={"legend--horizontal":"legend-module__legend--horizontal__IUN13","legend--vertical":"legend-module__legend--vertical__Scfzo","legend-item":"legend-module__legend-item__feemn","legend-item-swatch":"legend-module__legend-item-swatch__nRyXf","legend-item-label":"legend-module__legend-item-label__ksx6I","legend-item-value":"legend-module__legend-item-value__d9x1j"};const m={horizontal:"row",vertical:"column"},p=({items:l,className:i,orientation:t="horizontal"})=>{const a=c.scaleOrdinal({domain:l.map((e=>e.label)),range:l.map((e=>e.color))});return e.jsx("div",{className:r(u.legend,u[`legend--${t}`],i),role:"list",children:e.jsx(n.LegendOrdinal,{scale:a,direction:m[t],shape:"rect",shapeWidth:16,shapeHeight:16,className:u["legend-items"],children:i=>e.jsx("div",{className:u[`legend--${t}`],children:i.map((i=>e.jsxs("div",{className:u["legend-item"],children:[e.jsx("svg",{width:16,height:16,children:e.jsx("rect",{width:16,height:16,fill:i.value,className:u["legend-item-swatch"]})}),e.jsxs("span",{className:u["legend-item-label"],children:[i.text,l.find((e=>e.label===i.text))?.value&&e.jsx("span",{className:u["legend-item-value"],children:l.find((e=>e.label===i.text))?.value})]})]},i.text)))})})})};var g="base-tooltip-module__tooltip__OfX6n";const x=({data:l})=>e.jsxs(e.Fragment,{children:[l?.label,": ",l?.valueDisplay||l?.value]}),v=({data:l,top:i,left:t,component:a=x,children:s,className:r})=>e.jsx("div",{className:g,style:{top:i,left:t},role:"tooltip",children:s||l&&e.jsx(a,{data:l,className:r})});var _="pie-semi-circle-chart-module__pie-semi-circle-chart__r5jk9",j="pie-semi-circle-chart-module__pie-semi-circle-chart-legend__c8W1Y",b="pie-semi-circle-chart-module__label__nPqOg",f="pie-semi-circle-chart-module__note__LpBZQ";const C=({data:n,size:c=500,label:d,note:u,className:m,withTooltips:g=!1,clockwise:x=!0,thickness:C=.4,showLegend:F,legendOrientation:N})=>{const w=o.useContext(h),{tooltipOpen:k,tooltipLeft:q,tooltipTop:y,tooltipData:D,hideTooltip:P,showTooltip:T}=s.useTooltip(),z=c/2,A=c/2,L=c/2,M=L*(1-C+.03),S=n.map(((e,l)=>({...e,index:l}))),I=x?-Math.PI/2:Math.PI/2,O=x?Math.PI/2:-Math.PI/2,R={value:e=>e.value,sort:(e,l)=>l.value-e.value,fill:e=>e.color||w.colors[e.index%w.colors.length]},$=o.useCallback(((e,i)=>{const t=l.localPoint(e);t&&T({tooltipData:i.data,tooltipLeft:t.x,tooltipTop:t.y-10})}),[T]),B=o.useCallback((()=>{P()}),[P]),W=o.useCallback((e=>l=>{$(l,e)}),[$]),G=n.map(((e,l)=>({label:e.label,value:e.valueDisplay||e.value.toString(),color:R.fill({...e,index:l})})));return e.jsxs("div",{className:r("pie-semi-circle-chart",_,m),children:[e.jsx("svg",{viewBox:`0 0 ${c} ${A}`,children:e.jsxs(i.Group,{top:z,left:z,children:[e.jsx(t,{data:S,pieValue:R.value,outerRadius:L,innerRadius:M,cornerRadius:3,padAngle:.03,startAngle:I,endAngle:O,pieSort:R.sort,children:l=>l.arcs.map((i=>e.jsx("g",{onMouseMove:W(i),onMouseLeave:B,children:e.jsx("path",{d:l.path(i)||"",fill:R.fill(i.data)})},i.data.label)))}),e.jsxs(i.Group,{children:[e.jsx(a.Text,{textAnchor:"middle",verticalAnchor:"start",y:-40,className:b,children:d}),e.jsx(a.Text,{textAnchor:"middle",verticalAnchor:"start",y:-20,className:f,children:u})]})]})}),g&&k&&D&&e.jsx(v,{data:{label:D.label,value:D.value,valueDisplay:D.valueDisplay},top:y||0,left:q||0}),F&&e.jsx(p,{items:G,orientation:N,className:j})]})};C.displayName="PieSemiCircleChart";var F=function(l,i){const{maxWidth:t=1200,aspectRatio:a=.5,debounceTime:s=50}=i||{};return function(i){const{parentRef:r,width:o}=d.useParentSize({debounceTime:s,enableDebounceLeadingCall:!0,initialSize:{width:600,height:400}}),n=o?Math.min(o,t):600,c=n*a;return e.jsx("div",{ref:r,style:{width:"100%",minHeight:`${c}px`},children:e.jsx(l,{width:n,height:c,size:n,...i})})}}(C);exports.PieSemiCircleChart=F;
//# sourceMappingURL=index.js.map
