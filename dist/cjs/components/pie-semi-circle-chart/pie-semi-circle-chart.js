"use strict";var e=require("react/jsx-runtime"),l=require("@visx/event"),i=require("@visx/group"),t=require("@visx/shape"),a=require("@visx/text"),s=require("@visx/tooltip"),r=require("clsx"),o=require("react"),c=require("../../providers/theme/theme-provider.js"),n=require("../legend/base-legend.js"),p=require("../shared/with-responsive.js"),u=require("../tooltip/base-tooltip.js"),d=require("./pie-semi-circle-chart.module.scss.js");const h=({data:p,size:h=500,label:v,note:x,className:m,withTooltips:j=!1,clockwise:g=!0,thickness:q=.4,showLegend:b,legendOrientation:T})=>{const f=c.useChartTheme(),{tooltipOpen:w,tooltipLeft:y,tooltipTop:A,tooltipData:M,hideTooltip:P,showTooltip:C}=s.useTooltip(),N=h/2,k=h/2,D=h/2,L=D*(1-q+.03),I=p.map(((e,l)=>({...e,index:l}))),R=g?-Math.PI/2:Math.PI/2,B=g?Math.PI/2:-Math.PI/2,S={value:e=>e.value,sort:(e,l)=>l.value-e.value,fill:e=>e.color||f.colors[e.index%f.colors.length]},G=o.useCallback(((e,i)=>{const t=l.localPoint(e);t&&C({tooltipData:i.data,tooltipLeft:t.x,tooltipTop:t.y-10})}),[C]),O=o.useCallback((()=>{P()}),[P]),$=o.useCallback((e=>l=>{G(l,e)}),[G]),z=p.map(((e,l)=>({label:e.label,value:e.valueDisplay||e.value.toString(),color:S.fill({...e,index:l})})));return e.jsxs("div",{className:r("pie-semi-circle-chart",d["pie-semi-circle-chart"],m),children:[e.jsx("svg",{viewBox:`0 0 ${h} ${k}`,children:e.jsxs(i.Group,{top:N,left:N,children:[e.jsx(t.Pie,{data:I,pieValue:S.value,outerRadius:D,innerRadius:L,cornerRadius:3,padAngle:.03,startAngle:R,endAngle:B,pieSort:S.sort,children:l=>l.arcs.map((i=>e.jsx("g",{onMouseMove:$(i),onMouseLeave:O,children:e.jsx("path",{d:l.path(i)||"",fill:S.fill(i.data)})},i.data.label)))}),e.jsxs(i.Group,{children:[e.jsx(a.Text,{textAnchor:"middle",verticalAnchor:"start",y:-40,className:d.label,children:v}),e.jsx(a.Text,{textAnchor:"middle",verticalAnchor:"start",y:-20,className:d.note,children:x})]})]})}),j&&w&&M&&e.jsx(u.BaseTooltip,{data:{label:M.label,value:M.value,valueDisplay:M.valueDisplay},top:A||0,left:y||0}),b&&e.jsx(n.BaseLegend,{items:z,orientation:T,className:d["pie-semi-circle-chart-legend"]})]})};h.displayName="PieSemiCircleChart";var v=p.withResponsive(h);module.exports=v;
//# sourceMappingURL=pie-semi-circle-chart.js.map
