"use strict";var e=require("react/jsx-runtime"),l=require("@visx/axis"),a=require("@visx/event"),t=require("@visx/group"),i=require("@visx/scale"),o=require("@visx/shape"),r=require("@visx/tooltip"),s=require("clsx"),n=require("react"),d=require("@visx/grid"),c=require("@visx/legend");const h=n.createContext({backgroundColor:"#FFFFFF",labelBackgroundColor:"#FFFFFF",colors:["#98C8DF","#006DAB","#A6DC80","#1F9828","#FF8C8F"],gridStyles:{stroke:"#787C82",strokeWidth:1},tickLength:0,gridColor:"",gridColorDark:""});var g="grid-control-module__grid-control__KOnZN";const m=({width:l,height:a,xScale:t,yScale:i,gridVisibility:o="x",top:r=0})=>e.jsxs("g",{transform:`translate(0, ${r})`,className:g,children:[o.includes("x")&&e.jsx(d.GridRows,{scale:t,width:l}),o.includes("y")&&e.jsx(d.GridColumns,{scale:i,height:a})]});var u={"legend--horizontal":"legend-module__legend--horizontal__IUN13","legend--vertical":"legend-module__legend--vertical__Scfzo","legend-item":"legend-module__legend-item__feemn","legend-item-swatch":"legend-module__legend-item-swatch__nRyXf","legend-item-label":"legend-module__legend-item-label__ksx6I","legend-item-value":"legend-module__legend-item-value__d9x1j"};const v={horizontal:"row",vertical:"column"},x=({items:l,className:a,orientation:t="horizontal"})=>{const o=i.scaleOrdinal({domain:l.map((e=>e.label)),range:l.map((e=>e.color))});return e.jsx("div",{className:s(u.legend,u[`legend--${t}`],a),role:"list",children:e.jsx(c.LegendOrdinal,{scale:o,direction:v[t],shape:"rect",shapeWidth:16,shapeHeight:16,className:u["legend-items"],children:a=>e.jsx("div",{className:u[`legend--${t}`],children:a.map((a=>{var t,i;return e.jsxs("div",{className:u["legend-item"],children:[e.jsx("svg",{width:16,height:16,children:e.jsx("rect",{width:16,height:16,fill:a.value,className:u["legend-item-swatch"]})}),e.jsxs("span",{className:u["legend-item-label"],children:[a.text,(null===(t=l.find((e=>e.label===a.text)))||void 0===t?void 0:t.value)&&e.jsx("span",{className:u["legend-item-value"],children:null===(i=l.find((e=>e.label===a.text)))||void 0===i?void 0:i.value})]})]},a.text)}))})})})};var p="base-tooltip-module__tooltip__OfX6n";const b=({data:l})=>e.jsxs(e.Fragment,{children:[null==l?void 0:l.label,": ",(null==l?void 0:l.valueDisplay)||(null==l?void 0:l.value)]}),_=({data:l,top:a,left:t,component:i=b,children:o,className:r})=>e.jsx("div",{className:p,style:{top:a,left:t},role:"tooltip",children:o||l&&e.jsx(i,{data:l,className:r})});var j={"bar-chart":"bar-chart-module__bar-chart__lmYNi","bar-chart-legend":"bar-chart-module__bar-chart-legend__vgKKq"};const f=({data:d,width:c=500,height:g=500,margin:u={top:20,right:20,bottom:40,left:40},withTooltips:v=!1,showLegend:p=!1,legendOrientation:b="horizontal",className:f,gridVisibility:N="x"})=>{var w;const y=n.useContext(h),{tooltipOpen:F,tooltipLeft:C,tooltipTop:q,tooltipData:L,hideTooltip:k,showTooltip:B}=r.useTooltip(),S=n.useCallback(((e,l,t,i,o)=>{const r=a.localPoint(e);r&&B({tooltipData:{value:l,xLabel:t,yLabel:i,seriesIndex:o},tooltipLeft:r.x,tooltipTop:r.y-10})}),[B]),D=n.useCallback((()=>{k()}),[k]);if(!(null==d?void 0:d.length))return e.jsx("div",{className:s("bar-chart-empty",j["bat-chart-empty"]),children:"Empty..."});const z=u,O=c-z.left-z.right,T=g-z.top-z.bottom,M=null===(w=d[0].data)||void 0===w?void 0:w.map((e=>(null==e?void 0:e.label)||"")),$=i.scaleBand({range:[0,O],domain:M,padding:.2}),A=i.scaleBand({range:[0,$.bandwidth()],domain:d.map(((e,l)=>l.toString())),padding:.1}),G=i.scaleLinear({range:[T,0],domain:[0,Math.max(...d.map((e=>Math.max(...e.data.map((e=>(null==e?void 0:e.value)||0))))))]}),I=d.map(((e,l)=>({label:e.label,value:"",color:y.colors[l%y.colors.length]})));return e.jsxs("div",{className:s("bar-chart",f,j["bar-chart"]),children:[e.jsx("svg",{width:c,height:g,children:e.jsxs(t.Group,{left:z.left,top:z.top,children:[e.jsx(m,{width:O,height:T,xScale:$,yScale:G,gridVisibility:N}),d.map(((l,a)=>e.jsx(t.Group,{children:l.data.map((t=>{var i,r;const s=$((null==t?void 0:t.label)||"");if(void 0===s)return null;const n=A.bandwidth(),d=s+(null!==(i=A(a.toString()))&&void 0!==i?i:0);return e.jsx(o.Bar,{x:d,y:G(t.value),width:n,height:T-(null!==(r=G(t.value))&&void 0!==r?r:0),fill:y.colors[a%y.colors.length],onMouseMove:v?e=>S(e,t.value,(null==t?void 0:t.label)||"",l.label,a):void 0,onMouseLeave:v?D:void 0},`bar-${a}-${t.label}`)}))},a))),e.jsx(l.AxisLeft,{scale:G}),e.jsx(l.AxisBottom,{scale:$,top:T})]})}),v&&F&&L&&e.jsx(_,{top:q||0,left:C||0,children:e.jsxs("div",{children:[e.jsx("div",{children:L.yLabel}),e.jsxs("div",{children:[L.xLabel,": ",L.value]})]})}),p&&e.jsx(x,{items:I,orientation:b,className:j["bar-chart-legend"]})]})};f.displayName="BarChart",exports.BarChart=f;
//# sourceMappingURL=index.cjs.js.map
