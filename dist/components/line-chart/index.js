import{jsx as e,jsxs as l}from"react/jsx-runtime";import{buildChartTheme as t,XYChart as o,AnimatedGrid as a,AnimatedAxis as i,AnimatedLineSeries as n,Tooltip as r}from"@visx/xychart";import d from"clsx";import{createContext as c,useContext as s}from"react";import{LegendOrdinal as m}from"@visx/legend";import{scaleOrdinal as h}from"@visx/scale";const _=c({backgroundColor:"#FFFFFF",labelBackgroundColor:"#FFFFFF",colors:["#98C8DF","#006DAB","#A6DC80","#1F9828","#FF8C8F"],gridStyles:{stroke:"#787C82",strokeWidth:1},tickLength:0,gridColor:"",gridColorDark:""});var g={"legend--horizontal":"legend-module__legend--horizontal__IUN13","legend--vertical":"legend-module__legend--vertical__Scfzo","legend-item":"legend-module__legend-item__feemn","legend-item-swatch":"legend-module__legend-item-swatch__nRyXf","legend-item-label":"legend-module__legend-item-label__ksx6I","legend-item-value":"legend-module__legend-item-value__d9x1j"};const u={horizontal:"row",vertical:"column"},v=({items:t,className:o,orientation:a="horizontal"})=>{const i=h({domain:t.map((e=>e.label)),range:t.map((e=>e.color))});return e("div",{className:d(g.legend,g[`legend--${a}`],o),role:"list",children:e(m,{scale:i,direction:u[a],shape:"rect",shapeWidth:16,shapeHeight:16,className:g["legend-items"],children:o=>e("div",{className:g[`legend--${a}`],children:o.map((o=>{var a,i;return l("div",{className:g["legend-item"],children:[e("svg",{width:16,height:16,children:e("rect",{width:16,height:16,fill:o.value,className:g["legend-item-swatch"]})}),l("span",{className:g["legend-item-label"],children:[o.text,(null===(a=t.find((e=>e.label===o.text)))||void 0===a?void 0:a.value)&&e("span",{className:g["legend-item-value"],children:null===(i=t.find((e=>e.label===o.text)))||void 0===i?void 0:i.value})]})]},o.text)}))})})})};var p={"line-chart":"line-chart-module__line-chart__ITM3d","line-chart__tooltip":"line-chart-module__line-chart__tooltip__aqcme","line-chart__tooltip-date":"line-chart-module__line-chart__tooltip-date__4Dzab","line-chart__tooltip-row":"line-chart-module__line-chart__tooltip-row__6A37G","line-chart__tooltip-label":"line-chart-module__line-chart__tooltip-label__IvnFF"};const k=({tooltipData:t})=>{var o;const a=null===(o=null==t?void 0:t.nearestDatum)||void 0===o?void 0:o.datum;if(!a)return null;const i=Object.entries((null==t?void 0:t.datumByKey)||{}).map((([e,{datum:l}])=>({key:e,value:l.value}))).sort(((e,l)=>l.value-e.value));return l("div",{className:p["line-chart__tooltip"],children:[e("div",{className:p["line-chart__tooltip-date"],children:a.date.toLocaleDateString()}),i.map((t=>l("div",{className:p["line-chart__tooltip-row"],children:[l("span",{className:p["line-chart__tooltip-label"],children:[t.key,":"]}),e("span",{className:p["line-chart__tooltip-value"],children:t.value})]},t.key)))]})},b=e=>new Date(e).toLocaleDateString(void 0,{month:"short",day:"numeric"}),y=({data:c,width:m,height:h,margin:g={top:20,right:20,bottom:40,left:40},className:u,withTooltips:y=!0,showLegend:F=!1,legendOrientation:N="horizontal"})=>{const f=s(_);if(!(null==c?void 0:c.length))return e("div",{className:d("line-chart-empty",p["line-chart-empty"]),children:"Empty..."});const w=c.map(((e,l)=>({label:e.label,value:"",color:f.colors[l%f.colors.length]}))),x={xAccessor:e=>e.date,yAccessor:e=>e.value},C=t({backgroundColor:f.backgroundColor,colors:f.colors,gridStyles:f.gridStyles,tickLength:(null==f?void 0:f.tickLength)||0,gridColor:(null==f?void 0:f.gridColor)||"",gridColorDark:(null==f?void 0:f.gridColorDark)||""});return l("div",{className:d("line-chart",p["line-chart"],u),children:[l(o,{theme:C,width:m,height:h,margin:g,xScale:{type:"time"},yScale:{type:"linear",nice:!0},children:[e(a,{columns:!1,numTicks:4}),e(i,{orientation:"bottom",numTicks:5,tickFormat:b}),e(i,{orientation:"left",numTicks:4}),c.map(((l,t)=>e(n,{dataKey:null==l?void 0:l.label,data:l.data,...x,stroke:C.colors[t%C.colors.length],strokeWidth:2},null==l?void 0:l.label))),y&&e(r,{snapTooltipToDatumX:!0,snapTooltipToDatumY:!0,showSeriesGlyphs:!0,renderTooltip:k})]}),F&&e(v,{items:w,orientation:N,className:p["line-chart-legend"]})]})};export{y as LineChart};
//# sourceMappingURL=index.js.map
