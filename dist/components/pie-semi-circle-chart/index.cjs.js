"use strict";var e=require("react/jsx-runtime"),l=require("@visx/event"),a=require("@visx/group"),t=require("@visx/shape/lib/shapes/Pie"),i=require("@visx/text"),s=require("@visx/tooltip"),o=require("clsx"),r=require("react"),n=require("@visx/legend"),d=require("@visx/scale");const c=r.createContext({backgroundColor:"#FFFFFF",labelBackgroundColor:"#FFFFFF",colors:["#98C8DF","#006DAB","#A6DC80","#1F9828","#FF8C8F"],gridStyles:{stroke:"#787C82",strokeWidth:1},tickLength:0,gridColor:"",gridColorDark:""});var u={"legend--horizontal":"legend-module__legend--horizontal__IUN13","legend--vertical":"legend-module__legend--vertical__Scfzo","legend-item":"legend-module__legend-item__feemn","legend-item-swatch":"legend-module__legend-item-swatch__nRyXf","legend-item-label":"legend-module__legend-item-label__ksx6I","legend-item-value":"legend-module__legend-item-value__d9x1j"};const h={horizontal:"row",vertical:"column"},m=({items:l,className:a,orientation:t="horizontal"})=>{const i=d.scaleOrdinal({domain:l.map((e=>e.label)),range:l.map((e=>e.color))});return e.jsx("div",{className:o(u.legend,u[`legend--${t}`],a),role:"list",children:e.jsx(n.LegendOrdinal,{scale:i,direction:h[t],shape:"rect",shapeWidth:16,shapeHeight:16,className:u["legend-items"],children:a=>e.jsx("div",{className:u[`legend--${t}`],children:a.map((a=>{var t,i;return e.jsxs("div",{className:u["legend-item"],children:[e.jsx("svg",{width:16,height:16,children:e.jsx("rect",{width:16,height:16,fill:a.value,className:u["legend-item-swatch"]})}),e.jsxs("span",{className:u["legend-item-label"],children:[a.text,(null===(t=l.find((e=>e.label===a.text)))||void 0===t?void 0:t.value)&&e.jsx("span",{className:u["legend-item-value"],children:null===(i=l.find((e=>e.label===a.text)))||void 0===i?void 0:i.value})]})]},a.text)}))})})})};var p="base-tooltip-module__tooltip__OfX6n";const v=({data:l})=>e.jsxs(e.Fragment,{children:[null==l?void 0:l.label,": ",(null==l?void 0:l.valueDisplay)||(null==l?void 0:l.value)]}),g=({data:l,top:a,left:t,component:i=v,children:s,className:o})=>e.jsx("div",{className:p,style:{top:a,left:t},role:"tooltip",children:s||l&&e.jsx(i,{data:l,className:o})});var x="pie-semi-circle-chart-module__pie-semi-circle-chart__r5jk9",_="pie-semi-circle-chart-module__pie-semi-circle-chart-legend__c8W1Y",j="pie-semi-circle-chart-module__label__nPqOg",b="pie-semi-circle-chart-module__note__LpBZQ";exports.PieSemiCircleChart=({data:n,width:d=500,label:u,note:h,className:p,withTooltips:v=!1,clockwise:F=!0,thickness:f=.4,showLegend:N,legendOrientation:C})=>{const k=r.useContext(c),{tooltipOpen:w,tooltipLeft:q,tooltipTop:y,tooltipData:D,hideTooltip:A,showTooltip:P}=s.useTooltip(),T=d/2,L=d/2,M=d/2,I=M*(1-f+.03),O=n.map(((e,l)=>({...e,index:l}))),z=F?-Math.PI/2:Math.PI/2,S=F?Math.PI/2:-Math.PI/2,R={value:e=>e.value,sort:(e,l)=>l.value-e.value,fill:e=>e.color||k.colors[e.index%k.colors.length]},B=r.useCallback(((e,a)=>{const t=l.localPoint(e);t&&P({tooltipData:a.data,tooltipLeft:t.x,tooltipTop:t.y-10})}),[P]),W=r.useCallback((()=>{A()}),[A]),G=r.useCallback((e=>l=>{B(l,e)}),[B]),X=n.map(((e,l)=>({label:e.label,value:e.valueDisplay||e.value.toString(),color:R.fill({...e,index:l})})));return e.jsxs("div",{className:o("pie-semi-circle-chart",x,p),children:[e.jsx("svg",{width:d,height:L,children:e.jsxs(a.Group,{top:T,left:T,children:[e.jsx(t,{data:O,pieValue:R.value,outerRadius:M,innerRadius:I,cornerRadius:3,padAngle:.03,startAngle:z,endAngle:S,pieSort:R.sort,children:l=>l.arcs.map((a=>e.jsx("g",{onMouseMove:G(a),onMouseLeave:W,children:e.jsx("path",{d:l.path(a)||"",fill:R.fill(a.data)})},a.data.label)))}),e.jsxs(a.Group,{children:[e.jsx(i.Text,{textAnchor:"middle",verticalAnchor:"start",y:-40,className:j,children:u}),e.jsx(i.Text,{textAnchor:"middle",verticalAnchor:"start",y:-20,className:b,children:h})]})]})}),v&&w&&D&&e.jsx(g,{data:{label:D.label,value:D.value,valueDisplay:D.valueDisplay},top:y||0,left:q||0}),N&&e.jsx(m,{items:X,orientation:C,className:_})]})};
//# sourceMappingURL=index.cjs.js.map
