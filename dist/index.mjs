import{AxisLeft as Re,AxisBottom as ze}from"@visx/axis";import{localPoint as Oe}from"@visx/event";import{Group as ie}from"@visx/group";import{scaleBand as ne,scaleLinear as Ee}from"@visx/scale";import{Bar as Ie}from"@visx/shape";import{useTooltip as Xe}from"@visx/tooltip";import se from"clsx";import{useCallback as pe}from"react";import{createContext as xe,useContext as Pe}from"react";var X={backgroundColor:"#FFFFFF",labelBackgroundColor:"#FFFFFF",colors:["#98C8DF","#006DAB","#A6DC80","#1F9828","#FF8C8F"],gridStyles:{stroke:"#787C82",strokeWidth:1},tickLength:0,gridColor:"",gridColorDark:""};import{jsx as Te}from"react/jsx-runtime";var J=xe(X),D=()=>Pe(J),ee=({theme:e={},children:t})=>{let a={...X,...e};return Te(J.Provider,{value:a,children:t})};import{GridRows as De,GridColumns as Fe}from"@visx/grid";var te={"grid-control":"grid-control-module__grid-control___KOnZN"};import{jsx as oe,jsxs as Me}from"react/jsx-runtime";var ke=({width:e,height:t,xScale:a,yScale:r,gridVisibility:o="x",top:i=0})=>Me("g",{transform:`translate(0, ${i})`,className:te["grid-control"],children:[o.includes("x")&&oe(De,{scale:a,width:e}),o.includes("y")&&oe(Fe,{scale:r,height:t})]}),U=ke;import{LegendOrdinal as Le}from"@visx/legend";import{scaleOrdinal as Be}from"@visx/scale";import Se from"clsx";var F={"legend--horizontal":"legend-module__legend--horizontal___IUN13","legend--vertical":"legend-module__legend--vertical___Scfzo","legend-item":"legend-module__legend-item___feemn","legend-item-swatch":"legend-module__legend-item-swatch___nRyXf","legend-item-label":"legend-module__legend-item-label___ksx6I","legend-item-value":"legend-module__legend-item-value___d9x1j"};import{jsx as V,jsxs as re}from"react/jsx-runtime";var Ne={horizontal:"row",vertical:"column"},y=({items:e,className:t,orientation:a="horizontal"})=>{let r=Be({domain:e.map(o=>o.label),range:e.map(o=>o.color)});return V("div",{className:Se(F.legend,F[`legend--${a}`],t),role:"list",children:V(Le,{scale:r,direction:Ne[a],shape:"rect",shapeWidth:16,shapeHeight:16,className:F["legend-items"],children:o=>V("div",{className:F[`legend--${a}`],children:o.map(i=>re("div",{className:F["legend-item"],children:[V("svg",{width:16,height:16,children:V("rect",{width:16,height:16,fill:i.value,className:F["legend-item-swatch"]})}),re("span",{className:F["legend-item-label"],children:[i.text,e.find(h=>h.label===i.text)?.value&&V("span",{className:F["legend-item-value"],children:e.find(h=>h.label===i.text)?.value})]})]},i.text))})})})};var ae={tooltip:"base-tooltip-module__tooltip___OfX6n"};import{Fragment as we,jsx as le,jsxs as Ge}from"react/jsx-runtime";var Ae=({data:e})=>Ge(we,{children:[e?.label,": ",e?.valueDisplay||e?.value]}),N=({data:e,top:t,left:a,component:r=Ae,children:o,className:i})=>le("div",{className:ae.tooltip,style:{top:t,left:a},role:"tooltip",children:o||le(r,{data:e,className:i})});var H={"bar-chart":"bar-chart-module__bar-chart___lmYNi","bar-chart-legend":"bar-chart-module__bar-chart-legend___vgKKq"};import{jsx as x,jsxs as q}from"react/jsx-runtime";var me=({data:e,width:t,height:a,margin:r={top:20,right:20,bottom:40,left:40},withTooltips:o=!1,showLegend:i=!1,legendOrientation:h="horizontal",className:P,gridVisibility:s="x"})=>{let g=D(),{tooltipOpen:b,tooltipLeft:u,tooltipTop:c,tooltipData:f,hideTooltip:T,showTooltip:w}=Xe(),z=pe((d,m,v,I,l)=>{let n=Oe(d);n&&w({tooltipData:{value:m,xLabel:v,yLabel:I,seriesIndex:l},tooltipLeft:n.x,tooltipTop:n.y-10})},[w]),O=pe(()=>{T()},[T]);if(!e?.length)return x("div",{className:se("bar-chart-empty",H["bat-chart-empty"]),children:"Empty..."});let C=r,G=t-C.left-C.right,p=a-C.top-C.bottom,_=e[0].data?.map(d=>d?.label),L=ne({range:[0,G],domain:_,padding:.2}),E=ne({range:[0,L.bandwidth()],domain:e.map((d,m)=>m.toString()),padding:.1}),B=Ee({range:[p,0],domain:[0,Math.max(...e.map(d=>Math.max(...d.data.map(m=>m?.value||0))))]}),S=e.map((d,m)=>({label:d.label,value:"",color:g.colors[m%g.colors.length]}));return q("div",{className:se("bar-chart",P,H["bar-chart"]),children:[x("svg",{width:t,height:a,children:q(ie,{left:C.left,top:C.top,children:[x(U,{width:G,height:p,xScale:L,yScale:B,gridVisibility:s}),e.map((d,m)=>x(ie,{children:d.data.map(v=>{let I=L(v.label);if(I===void 0)return null;let l=E.bandwidth(),n=I+(E(m.toString())??0),K=ye=>z(ye,v.value,v.label,d.label,m);return x(Ie,{x:n,y:B(v.value),width:l,height:p-(B(v.value)??0),fill:g.colors[m%g.colors.length],onMouseMove:o?K:void 0,onMouseLeave:o?O:void 0},`bar-${m}-${v.label}`)})},m)),x(Re,{scale:B}),x(ze,{scale:L,top:p})]})}),o&&b&&f&&x(N,{top:c,left:u,children:q("div",{children:[x("div",{children:f.yLabel}),q("div",{children:[f.xLabel,": ",f.value]})]})}),i&&x(y,{items:S,orientation:h,className:H["bar-chart-legend"]})]})};me.displayName="BarChart";var ce=me;import{XYChart as Ve,AnimatedLineSeries as Ke,AnimatedAxis as de,AnimatedGrid as We,Tooltip as Ye,buildChartTheme as He}from"@visx/xychart";import he from"clsx";var k={"line-chart":"line-chart-module__line-chart___ITM3d","line-chart__tooltip":"line-chart-module__line-chart__tooltip___aqcme","line-chart__tooltip-date":"line-chart-module__line-chart__tooltip-date___4Dzab","line-chart__tooltip-row":"line-chart-module__line-chart__tooltip-row___6A37G","line-chart__tooltip-label":"line-chart-module__line-chart__tooltip-label___IvnFF"};import{jsx as M,jsxs as W}from"react/jsx-runtime";var qe=({tooltipData:e})=>{let t=e?.nearestDatum?.datum;if(!t)return null;let a=Object.entries(e?.datumByKey||{}).map(([r,{datum:o}])=>({key:r,value:o.value})).sort((r,o)=>o.value-r.value);return W("div",{className:k["line-chart__tooltip"],children:[M("div",{className:k["line-chart__tooltip-date"],children:t.date.toLocaleDateString()}),a.map(r=>W("div",{className:k["line-chart__tooltip-row"],children:[W("span",{className:k["line-chart__tooltip-label"],children:[r.key,":"]}),M("span",{className:k["line-chart__tooltip-value"],children:r.value})]},r.key))]})},Ue=e=>new Date(e).toLocaleDateString(void 0,{month:"short",day:"numeric"}),$e=({data:e,width:t,height:a,margin:r={top:20,right:20,bottom:40,left:40},className:o,withTooltips:i=!0,showLegend:h=!1,legendOrientation:P="horizontal"})=>{let s=D();if(!e?.length)return M("div",{className:he("line-chart-empty",k["line-chart-empty"]),children:"Empty..."});let g=e.map((c,f)=>({label:c.label,value:"",color:s.colors[f%s.colors.length]})),b={xAccessor:c=>c.date,yAccessor:c=>c.value},u=He({backgroundColor:s.backgroundColor,colors:s.colors,gridStyles:s.gridStyles,tickLength:s?.tickLength||0,gridColor:s?.gridColor||"",gridColorDark:s?.gridColorDark||""});return W("div",{className:he("line-chart",k["line-chart"],o),children:[W(Ve,{theme:u,width:t,height:a,margin:r,xScale:{type:"time"},yScale:{type:"linear",nice:!0},children:[M(We,{columns:!1,numTicks:4}),M(de,{orientation:"bottom",numTicks:5,tickFormat:Ue}),M(de,{orientation:"left",numTicks:4}),e.map((c,f)=>M(Ke,{dataKey:c?.label,data:c.data,...b,stroke:u.colors[f%u.colors.length],strokeWidth:2},c?.label)),i&&M(Ye,{snapTooltipToDatumX:!0,snapTooltipToDatumY:!0,showSeriesGlyphs:!0,renderTooltip:qe})]}),h&&M(y,{items:g,orientation:P,className:k["line-chart-legend"]})]})},ue=$e;import{Group as Je}from"@visx/group";import{Pie as et}from"@visx/shape";import tt from"clsx";import{localPoint as Ze}from"@visx/event";import{useTooltip as je}from"@visx/tooltip";import{useCallback as _e}from"react";var Qe=({withTooltips:e})=>{let{tooltipOpen:t,tooltipLeft:a,tooltipTop:r,tooltipData:o,hideTooltip:i,showTooltip:h}=je(),P=_e((g,b)=>{if(!e)return;let u=Ze(g);u&&h({tooltipData:b,tooltipLeft:u.x,tooltipTop:u.y-10})},[e,h]),s=_e(()=>{e&&i()},[e,i]);return{onMouseMove:P,onMouseLeave:s,tooltipOpen:t,tooltipData:o,tooltipLeft:a,tooltipTop:r}},$=Qe;var Z={"pie-chart":"pie-chart-module__pie-chart___R12Vh"};import{jsx as R,jsxs as ge}from"react/jsx-runtime";var ot=({data:e,width:t,height:a,withTooltips:r=!1,innerRadius:o=0,className:i,showLegend:h,legendOrientation:P})=>{let s=D(),{onMouseMove:g,onMouseLeave:b,tooltipOpen:u,tooltipData:c,tooltipLeft:f,tooltipTop:T}=$({withTooltips:r}),w=Math.min(t,a)/2,z=t/2,O=a/2,C={value:p=>p.value,fill:p=>p.color||s.colors[p.index]},G=e.map((p,_)=>({label:p.label,value:p.value.toString(),color:s.colors[_%s.colors.length]}));return ge("div",{className:tt("pie-chart",Z["pie-chart"],i),children:[R("svg",{width:t,height:a,children:R(Je,{top:O,left:z,children:R(et,{data:e,pieValue:C.value,outerRadius:w-20,innerRadius:o,children:p=>p.arcs.map((_,L)=>{let[E,B]=p.path.centroid(_),S=_.endAngle-_.startAngle>=.25,d=v=>g(v,_.data),m={d:p.path(_)||"",fill:C.fill(_)};return r&&(m.onMouseMove=d,m.onMouseLeave=b),ge("g",{children:[R("path",{...m}),S&&R("text",{x:E,y:B,dy:".33em",fill:s.labelBackgroundColor||X.labelBackgroundColor,fontSize:12,textAnchor:"middle",pointerEvents:"none",children:_.data.label})]},`arc-${L}`)})})})}),h&&R(y,{items:G,orientation:P,className:Z["pie-chart-legend"]}),r&&u&&c&&R(N,{data:c,top:T,left:f,style:{transform:"translate(-50%, -100%)"}})]})},fe=ot;import{localPoint as rt}from"@visx/event";import{Group as ve}from"@visx/group";import at from"@visx/shape/lib/shapes/Pie";import{Text as Ce}from"@visx/text";import{useTooltip as lt}from"@visx/tooltip";import it from"clsx";import{useCallback as j}from"react";var Y={"pie-semi-circle-chart":"pie-semi-circle-chart-module__pie-semi-circle-chart___r5jk9","pie-semi-circle-chart-legend":"pie-semi-circle-chart-module__pie-semi-circle-chart-legend___c8W1Y",label:"pie-semi-circle-chart-module__label___nPqOg",note:"pie-semi-circle-chart-module__note___LpBZQ"};import{jsx as A,jsxs as Q}from"react/jsx-runtime";var nt=({data:e,width:t,label:a,note:r,className:o,withTooltips:i=!1,clockwise:h=!0,thickness:P=.4,showLegend:s,legendOrientation:g})=>{let b=D(),{tooltipOpen:u,tooltipLeft:c,tooltipTop:f,tooltipData:T,hideTooltip:w,showTooltip:z}=lt(),O=t/2,C=t/2,G=t/2,p=.03,_=G*(1-P+p),L=e.map((l,n)=>({...l,index:n})),E=h?-Math.PI/2:Math.PI/2,B=h?Math.PI/2:-Math.PI/2,S={value:l=>l.value,sort:(l,n)=>n.value-l.value,fill:l=>l.color||b.colors[l.index%b.colors.length]},d=j((l,n)=>{let K=rt(l);K&&z({tooltipData:n.data,tooltipLeft:K.x,tooltipTop:K.y-10})},[z]),m=j(()=>{w()},[w]),v=j(l=>n=>{d(n,l)},[d]),I=e.map((l,n)=>({label:l.label,value:l.valueDisplay||l.value.toString(),color:S.fill({...l,index:n})}));return Q("div",{className:it("pie-semi-circle-chart",Y["pie-semi-circle-chart"],o),children:[A("svg",{width:t,height:C,children:Q(ve,{top:O,left:O,children:[A(at,{data:L,pieValue:S.value,outerRadius:G,innerRadius:_,cornerRadius:3,padAngle:p,startAngle:E,endAngle:B,pieSort:S.sort,children:l=>l.arcs.map(n=>A("g",{onMouseMove:v(n),onMouseLeave:m,children:A("path",{d:l.path(n)||"",fill:S.fill(n.data)})},n.data.label))}),Q(ve,{children:[A(Ce,{textAnchor:"middle",verticalAnchor:"start",y:-40,className:Y.label,children:a}),A(Ce,{textAnchor:"middle",verticalAnchor:"start",y:-20,className:Y.note,children:r})]})]})}),i&&u&&T&&A(N,{data:{label:T.label,value:T.value,valueDisplay:T.valueDisplay},top:f,left:c}),s&&A(y,{items:I,orientation:g,className:Y["pie-semi-circle-chart-legend"]})]})},be=nt;export{ce as BarChart,N as BaseTooltip,y as Legend,ue as LineChart,fe as PieChart,be as PieSemiCircleChart,ee as ThemeProvider,$ as useChartMouseHandler};
//# sourceMappingURL=index.mjs.map