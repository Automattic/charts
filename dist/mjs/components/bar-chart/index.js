import*as e from"@visx/axis";import*as t from"@visx/event";import*as a from"@visx/group";import*as r from"@visx/scale";import*as n from"@visx/shape";import*as l from"@visx/tooltip";import*as o from"clsx";import*as i from"react";import*as c from"@visx/grid";import*as d from"@visx/legend";import*as s from"@visx/responsive";var u={d:(e,t)=>{for(var a in t)u.o(t,a)&&!u.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},m={};function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=Array(t);a<t;a++)r[a]=e[a];return r}function p(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?v(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}u.d(m,{E:()=>j});const f=(h={AxisBottom:()=>e.AxisBottom,AxisLeft:()=>e.AxisLeft},g={},u.d(g,h),g);var h,g;const b=(e=>{var t={};return u.d(t,e),t})({localPoint:()=>t.localPoint}),x=(e=>{var t={};return u.d(t,e),t})({Group:()=>a.Group}),y=(e=>{var t={};return u.d(t,e),t})({scaleBand:()=>r.scaleBand,scaleLinear:()=>r.scaleLinear,scaleOrdinal:()=>r.scaleOrdinal}),E=(e=>{var t={};return u.d(t,e),t})({Bar:()=>n.Bar}),R=(e=>{var t={};return u.d(t,e),t})({useTooltip:()=>l.useTooltip}),w=(e=>{var t={};return u.d(t,e),t})({default:()=>o.default}),C=(e=>{var t={};return u.d(t,e),t})({createContext:()=>i.createContext,default:()=>i.default,useCallback:()=>i.useCallback,useContext:()=>i.useContext});var F={backgroundColor:"#FFFFFF",labelBackgroundColor:"#FFFFFF",colors:["#98C8DF","#006DAB","#A6DC80","#1F9828","#FF8C8F"],gridStyles:{stroke:"#787C82",strokeWidth:1},tickLength:0,gridColor:"",gridColorDark:""},L=(0,C.createContext)(F);const A=(e=>{var t={};return u.d(t,e),t})({GridColumns:()=>c.GridColumns,GridRows:()=>c.GridRows}),N=function(e){var t=e.width,a=e.height,r=e.xScale,n=e.yScale,l=e.gridVisibility,o=void 0===l?"x":l,i=e.top,c=void 0===i?0:i;return C.default.createElement("g",{transform:"translate(0, ".concat(c,")"),className:"jfpeES0fbFrqCPR8dRN7"},o.includes("x")&&C.default.createElement(A.GridRows,{scale:r,width:t}),o.includes("y")&&C.default.createElement(A.GridColumns,{scale:n,height:a}))},B=(e=>{var t={};return u.d(t,e),t})({LegendOrdinal:()=>d.LegendOrdinal}),S={"legend--horizontal":"b1_5FxxoK4aEFLoe67IA","legend--vertical":"vpmQkJAPhp3XJ9Wb6vOw","legend-item":"IKM8KG1lF9e5NzDqMLOJ","legend-item-swatch":"_eccyBq0v2puKsHw8XND","legend-item-label":"UeZrUEpEK0tLzXHmeUco","legend-item-value":"R5msPOYKm79jYV13H0v7"};var O={horizontal:"row",vertical:"column"},k=function(e){var t=e.items,a=e.className,r=e.orientation,n=void 0===r?"horizontal":r,l=(0,y.scaleOrdinal)({domain:t.map((function(e){return e.label})),range:t.map((function(e){return e.color}))});return React.createElement("div",{className:(0,w.default)(S.legend,S["legend--".concat(n)],a),role:"list"},React.createElement(B.LegendOrdinal,{scale:l,direction:O[n],shape:"rect",shapeWidth:16,shapeHeight:16,className:S["legend-items"]},(function(e){return React.createElement("div",{className:S["legend--".concat(n)]},e.map((function(e){var a,r;return React.createElement("div",{key:e.text,className:S["legend-item"]},React.createElement("svg",{width:16,height:16},React.createElement("rect",{width:16,height:16,fill:e.value,className:S["legend-item-swatch"]})),React.createElement("span",{className:S["legend-item-label"]},e.text,(null===(a=t.find((function(t){return t.label===e.text})))||void 0===a?void 0:a.value)&&React.createElement("span",{className:S["legend-item-value"]},null===(r=t.find((function(t){return t.label===e.text})))||void 0===r?void 0:r.value)))})))})))};function P(){return P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},P.apply(null,arguments)}const G=(e=>{var t={};return u.d(t,e),t})({useParentSize:()=>s.useParentSize});var M=function(e){var t=e.data;return React.createElement(React.Fragment,null,null==t?void 0:t.label,": ",(null==t?void 0:t.valueDisplay)||(null==t?void 0:t.value))},T=function(e){var t=e.data,a=e.top,r=e.left,n=e.component,l=void 0===n?M:n,o=e.children,i=e.className;return React.createElement("div",{className:"Jmgc7XAf2uAyK5059rBe",style:{top:a,left:r},role:"tooltip"},o||t&&React.createElement(l,{data:t,className:i}))};const z={"bar-chart":"Vm_cn8YnIXBavFt6eHSp","bar-chart-legend":"e4dhKgBP7e6FBRAX2SrP"};var D=function(e){var t,a=e.data,r=e.margin,n=void 0===r?{top:20,right:20,bottom:40,left:40}:r,l=e.withTooltips,o=void 0!==l&&l,i=e.showLegend,c=void 0!==i&&i,d=e.legendOrientation,s=void 0===d?"horizontal":d,u=e.className,m=e.gridVisibility,v=void 0===m?"x":m,h=e.width,g=e.height,F=void 0===g?400:g,A=(0,C.useContext)(L),B=(0,R.useTooltip)(),S=B.tooltipOpen,O=B.tooltipLeft,P=B.tooltipTop,G=B.tooltipData,M=B.hideTooltip,D=B.showTooltip,j=(0,C.useCallback)((function(e,t,a,r,n){var l=(0,b.localPoint)(e);l&&D({tooltipData:{value:t,xLabel:a,yLabel:r,seriesIndex:n},tooltipLeft:l.x,tooltipTop:l.y-10})}),[D]),K=(0,C.useCallback)((function(){M()}),[M]);if(null==a||!a.length)return React.createElement("div",{className:(0,w.default)("bar-chart-empty",z["bat-chart-empty"])},"Empty...");var I=n,H=h-I.left-I.right,X=F-I.top-I.bottom,V=null===(t=a[0].data)||void 0===t?void 0:t.map((function(e){return(null==e?void 0:e.label)||""})),J=(0,y.scaleBand)({range:[0,H],domain:V,padding:.2}),U=(0,y.scaleBand)({range:[0,J.bandwidth()],domain:a.map((function(e,t){return t.toString()})),padding:.1}),W=(0,y.scaleLinear)({range:[X,0],domain:[0,Math.max.apply(Math,p(a.map((function(e){return Math.max.apply(Math,p(e.data.map((function(e){return(null==e?void 0:e.value)||0}))))}))))]}),q=a.map((function(e,t){return{label:e.label,value:"",color:A.colors[t%A.colors.length]}}));return React.createElement("div",{className:(0,w.default)("bar-chart",u,z["bar-chart"])},React.createElement("svg",{width:h,height:F},React.createElement(x.Group,{left:I.left,top:I.top},React.createElement(N,{width:H,height:X,xScale:J,yScale:W,gridVisibility:v}),a.map((function(e,t){return React.createElement(x.Group,{key:t},e.data.map((function(a){var r,n,l=J((null==a?void 0:a.label)||"");if(void 0===l)return null;var i=U.bandwidth(),c=l+(null!==(r=U(t.toString()))&&void 0!==r?r:0);return React.createElement(E.Bar,{key:"bar-".concat(t,"-").concat(a.label),x:c,y:W(a.value),width:i,height:X-(null!==(n=W(a.value))&&void 0!==n?n:0),fill:A.colors[t%A.colors.length],onMouseMove:o?function(r){return j(r,a.value,(null==a?void 0:a.label)||"",e.label,t)}:void 0,onMouseLeave:o?K:void 0})})))})),React.createElement(f.AxisLeft,{scale:W}),React.createElement(f.AxisBottom,{scale:J,top:X}))),o&&S&&G&&React.createElement(T,{top:P||0,left:O||0},React.createElement("div",null,React.createElement("div",null,G.yLabel),React.createElement("div",null,G.xLabel,": ",G.value))),c&&React.createElement(k,{items:q,orientation:s,className:z["bar-chart-legend"]}))};D.displayName="BarChart";const j=(K=D,H=(I={}).maxWidth,X=void 0===H?1200:H,J=void 0===(V=I.aspectRatio)?.5:V,W=void 0===(U=I.debounceTime)?50:U,function(e){var t=(0,G.useParentSize)({debounceTime:W,enableDebounceLeadingCall:!0,initialSize:{width:600,height:400}}),a=t.parentRef,r=t.width,n=r?Math.min(r,X):600,l=n*J;return React.createElement("div",{ref:a,style:{width:"100%",minHeight:"".concat(l,"px")}},React.createElement(K,P({width:n,height:l},e)))});var K,I,H,X,V,J,U,W,q=m.E;export{q as BarChart};
//# sourceMappingURL=index.js.map