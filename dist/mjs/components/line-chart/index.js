import{jsx as e,jsxs as t,Fragment as l}from"react/jsx-runtime";import{LinearGradient as i}from"@visx/gradient";import{buildChartTheme as a,XYChart as o,AnimatedGrid as r,AnimatedAxis as n,AnimatedLineSeries as c,AnimatedAreaSeries as d,Tooltip as s}from"@visx/xychart";import h from"clsx";import{createContext as m,useContext as _}from"react";import{LegendOrdinal as g}from"@visx/legend";import{scaleOrdinal as p}from"@visx/scale";import{useParentSize as u}from"@visx/responsive";const v=m({backgroundColor:"#FFFFFF",labelBackgroundColor:"#FFFFFF",colors:["#98C8DF","#006DAB","#A6DC80","#1F9828","#FF8C8F"],gridStyles:{stroke:"#787C82",strokeWidth:1},tickLength:0,gridColor:"",gridColorDark:""});var b={"legend--horizontal":"legend-module__legend--horizontal__IUN13","legend--vertical":"legend-module__legend--vertical__Scfzo","legend-item":"legend-module__legend-item__feemn","legend-item-swatch":"legend-module__legend-item-swatch__nRyXf","legend-item-label":"legend-module__legend-item-label__ksx6I","legend-item-value":"legend-module__legend-item-value__d9x1j"};const k={horizontal:"row",vertical:"column"},f=({items:l,className:i,orientation:a="horizontal"})=>{const o=p({domain:l.map((e=>e.label)),range:l.map((e=>e.color))});return e("div",{className:h(b.legend,b[`legend--${a}`],i),role:"list",children:e(g,{scale:o,direction:k[a],shape:"rect",shapeWidth:16,shapeHeight:16,className:b["legend-items"],children:i=>e("div",{className:b[`legend--${a}`],children:i.map((i=>t("div",{className:b["legend-item"],children:[e("svg",{width:16,height:16,children:e("rect",{width:16,height:16,fill:i.value,className:b["legend-item-swatch"]})}),t("span",{className:b["legend-item-label"],children:[i.text,l.find((e=>e.label===i.text))?.value&&e("span",{className:b["legend-item-value"],children:l.find((e=>e.label===i.text))?.value})]})]},i.text)))})})})};var y={"line-chart":"line-chart-module__line-chart__ITM3d","line-chart__tooltip":"line-chart-module__line-chart__tooltip__aqcme","line-chart__tooltip-date":"line-chart-module__line-chart__tooltip-date__4Dzab","line-chart__tooltip-row":"line-chart-module__line-chart__tooltip-row__6A37G","line-chart__tooltip-label":"line-chart-module__line-chart__tooltip-label__IvnFF"};const x=({tooltipData:l})=>{const i=l?.nearestDatum?.datum;if(!i)return null;const a=Object.entries(l?.datumByKey||{}).map((([e,{datum:t}])=>({key:e,value:t.value}))).sort(((e,t)=>t.value-e.value));return t("div",{className:y["line-chart__tooltip"],children:[e("div",{className:y["line-chart__tooltip-date"],children:i.date.toLocaleDateString()}),a.map((l=>t("div",{className:y["line-chart__tooltip-row"],children:[t("span",{className:y["line-chart__tooltip-label"],children:[l.key,":"]}),e("span",{className:y["line-chart__tooltip-value"],children:l.value})]},l.key)))]})},w=e=>new Date(e).toLocaleDateString(void 0,{month:"short",day:"numeric"});var F=function(t,l){const{maxWidth:i=1200,aspectRatio:a=.5,debounceTime:o=50}=l||{};return function(l){const{parentRef:r,width:n}=u({debounceTime:o,enableDebounceLeadingCall:!0,initialSize:{width:600,height:400}}),c=n?Math.min(n,i):600,d=c*a;return e("div",{ref:r,style:{width:"100%",minHeight:`${d}px`},children:e(t,{width:c,height:d,size:c,...l})})}}((({data:m,width:g,height:p,margin:u={top:20,right:20,bottom:40,left:40},className:b,withTooltips:k=!0,showLegend:F=!1,legendOrientation:N="horizontal",withGradientFill:C=!1,options:D={}})=>{const T=_(v);if(!m?.length)return e("div",{className:h("line-chart-empty",y["line-chart-empty"]),children:"Empty..."});const S=m.map(((e,t)=>({label:e.label,value:"",color:T.colors[t%T.colors.length]}))),z={xAccessor:e=>e.date,yAccessor:e=>e.value},L=a({backgroundColor:T.backgroundColor,colors:T.colors,gridStyles:T.gridStyles,tickLength:T?.tickLength||0,gridColor:T?.gridColor||"",gridColorDark:T?.gridColorDark||""});return t("div",{className:h("line-chart",y["line-chart"],b),children:[t(o,{theme:L,width:g,height:p,margin:u,xScale:{type:"time"},yScale:{type:"linear",nice:!0},children:[e(r,{columns:!1,numTicks:4}),e(n,{orientation:"bottom",numTicks:5,tickFormat:w,...D?.axis?.x}),e(n,{orientation:"left",numTicks:4,...D?.axis?.y}),m.map(((a,o)=>{const r=a.options?.stroke??L.colors[o%L.colors.length];return t(l,{children:[e(i,{id:`area-gradient-${o+1}`,from:r,to:"white",toOpacity:.1,...a.options?.gradient}),e(c,{dataKey:a?.label,data:a.data,...z,stroke:r,strokeWidth:2},a?.label),C&&e(d,{dataKey:a?.label,data:a.data,...z,stroke:r,strokeWidth:0,fill:`url(#area-gradient-${o+1})`,renderLine:!1},a?.label)]})})),k&&e(s,{snapTooltipToDatumX:!0,snapTooltipToDatumY:!0,showSeriesGlyphs:!0,renderTooltip:x})]}),F&&e(f,{items:S,orientation:N,className:y["line-chart-legend"]})]})}));export{F as LineChart};
//# sourceMappingURL=index.js.map
