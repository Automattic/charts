import{jsx as e,jsxs as t,Fragment as o}from"react/jsx-runtime";import{LinearGradient as r}from"@visx/gradient";import{buildChartTheme as a,XYChart as i,AnimatedGrid as l,AnimatedAxis as n,AnimatedAreaSeries as s,Tooltip as c}from"@visx/xychart";import m from"clsx";import{useMemo as d}from"react";import{useChartTheme as h}from"../../providers/theme/theme-provider.js";import{BaseLegend as p}from"../legend/base-legend.js";import{withResponsive as u}from"../shared/with-responsive.js";import g from"./line-chart.module.scss.js";const v=({tooltipData:o})=>{const r=o?.nearestDatum?.datum;if(!r)return null;const a=Object.entries(o?.datumByKey||{}).map((([e,{datum:t}])=>({key:e,value:t.value}))).sort(((e,t)=>t.value-e.value));return t("div",{className:g["line-chart__tooltip"],children:[e("div",{className:g["line-chart__tooltip-date"],children:r.date.toLocaleDateString()}),a.map((o=>t("div",{className:g["line-chart__tooltip-row"],children:[t("span",{className:g["line-chart__tooltip-label"],children:[o.key,":"]}),e("span",{className:g["line-chart__tooltip-value"],children:o.value})]},o.key)))]})},y=e=>new Date(e).toLocaleDateString(void 0,{month:"short",day:"numeric"});var f=u((({data:u,width:f,height:k,className:x,margin:b={},withTooltips:w=!0,showLegend:_=!1,legendOrientation:D="horizontal",withGradientFill:N=!1,options:S={}})=>{const T=h(),j=d((()=>{const e=u?.map((e=>e.options?.stroke??"")).filter(Boolean)??[];return a({backgroundColor:T.backgroundColor,colors:[...e,...T.colors],gridStyles:T.gridStyles,tickLength:T?.tickLength||0,gridColor:T?.gridColor||"",gridColorDark:T?.gridColorDark||""})}),[T,u]);if(!u?.length)return e("div",{className:m("line-chart-empty",g["line-chart-empty"]),children:"Empty..."});const C=u.map(((e,t)=>({label:e.label,value:"",color:T.colors[t%T.colors.length]}))),L={xAccessor:e=>e.date,yAccessor:e=>e.value};return t("div",{className:m("line-chart",g["line-chart"],x),children:[t(i,{theme:j,width:f,height:k,margin:{top:20,right:20,bottom:40,left:40,...b},xScale:{type:"time",...S?.xScale},yScale:{type:"linear",nice:!0,zero:!1,...S?.yScale},children:[e(l,{columns:!1,numTicks:4}),e(n,{orientation:"bottom",numTicks:5,tickFormat:y,...S?.axis?.x}),e(n,{orientation:"left",numTicks:4,...S?.axis?.y}),u.map(((a,i)=>{const l=a.options?.stroke??j.colors[i%j.colors.length];return t(o,{children:[e(r,{id:`area-gradient-${i+1}`,from:l,to:"white",toOpacity:.1,...a.options?.gradient}),e(s,{dataKey:a?.label,data:a.data,...L,fill:N?`url(#area-gradient-${i+1})`:void 0,renderLine:!0},a?.label)]})})),w&&e(c,{snapTooltipToDatumX:!0,snapTooltipToDatumY:!0,showSeriesGlyphs:!0,renderTooltip:v})]}),_&&e(p,{items:C,orientation:D,className:g["line-chart-legend"]})]})}));export{f as default};
//# sourceMappingURL=line-chart.js.map
