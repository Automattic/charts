import{jsx as t,jsxs as e,Fragment as o}from"react/jsx-runtime";import{LinearGradient as r}from"@visx/gradient";import{buildChartTheme as a,XYChart as i,AnimatedGrid as l,AnimatedAxis as n,AnimatedLineSeries as s,AnimatedAreaSeries as c,Tooltip as d}from"@visx/xychart";import m from"clsx";import"react";import{useChartTheme as h}from"../../providers/theme/theme-provider.js";import{BaseLegend as p}from"../legend/base-legend.js";import{withResponsive as u}from"../shared/with-responsive.js";import g from"./line-chart.module.scss.js";const y=({tooltipData:o})=>{const r=o?.nearestDatum?.datum;if(!r)return null;const a=Object.entries(o?.datumByKey||{}).map((([t,{datum:e}])=>({key:t,value:e.value}))).sort(((t,e)=>e.value-t.value));return e("div",{className:g["line-chart__tooltip"],children:[t("div",{className:g["line-chart__tooltip-date"],children:r.date.toLocaleDateString()}),a.map((o=>e("div",{className:g["line-chart__tooltip-row"],children:[e("span",{className:g["line-chart__tooltip-label"],children:[o.key,":"]}),t("span",{className:g["line-chart__tooltip-value"],children:o.value})]},o.key)))]})},v=t=>new Date(t).toLocaleDateString(void 0,{month:"short",day:"numeric"});var k=u((({data:u,width:k,height:f,margin:b={top:20,right:20,bottom:40,left:40},className:x,withTooltips:w=!0,showLegend:_=!1,legendOrientation:D="horizontal",withGradientFill:N=!1,options:T={}})=>{const S=h();if(!u?.length)return t("div",{className:m("line-chart-empty",g["line-chart-empty"]),children:"Empty..."});const j=u.map(((t,e)=>({label:t.label,value:"",color:S.colors[e%S.colors.length]}))),C={xAccessor:t=>t.date,yAccessor:t=>t.value},L=a({backgroundColor:S.backgroundColor,colors:S.colors,gridStyles:S.gridStyles,tickLength:S?.tickLength||0,gridColor:S?.gridColor||"",gridColorDark:S?.gridColorDark||""});return e("div",{className:m("line-chart",g["line-chart"],x),children:[e(i,{theme:L,width:k,height:f,margin:b,xScale:{type:"time"},yScale:{type:"linear",nice:!0},children:[t(l,{columns:!1,numTicks:4}),t(n,{orientation:"bottom",numTicks:5,tickFormat:v,...T?.axis?.x}),t(n,{orientation:"left",numTicks:4,...T?.axis?.y}),u.map(((a,i)=>{const l=a.options?.stroke??L.colors[i%L.colors.length];return e(o,{children:[t(r,{id:`area-gradient-${i+1}`,from:l,to:"white",toOpacity:.1,...a.options?.gradient}),t(s,{dataKey:a?.label,data:a.data,...C,stroke:l,strokeWidth:2},a?.label),N&&t(c,{dataKey:a?.label,data:a.data,...C,stroke:l,strokeWidth:0,fill:`url(#area-gradient-${i+1})`,renderLine:!1},a?.label)]})})),w&&t(d,{snapTooltipToDatumX:!0,snapTooltipToDatumY:!0,showSeriesGlyphs:!0,renderTooltip:y})]}),_&&t(p,{items:j,orientation:D,className:g["line-chart-legend"]})]})}));export{k as default};
//# sourceMappingURL=line-chart.js.map
