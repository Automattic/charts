import*as e from"@visx/axis";import*as t from"@visx/event";import*as a from"@visx/group";import*as r from"@visx/scale";import*as n from"@visx/shape";import*as o from"@visx/tooltip";import*as l from"clsx";import*as i from"react";import*as c from"@visx/grid";import*as u from"@visx/legend";import*as s from"@visx/responsive";import*as d from"@visx/xychart";import*as m from"@visx/shape/lib/shapes/Pie";import*as p from"@visx/text";var v={d:(e,t)=>{for(var a in t)v.o(t,a)&&!v.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},f={};function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=Array(t);a<t;a++)r[a]=e[a];return r}function b(e,t){if(e){if("string"==typeof e)return h(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?h(e,t):void 0}}function g(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||b(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}v.d(f,{Es:()=>U,RL:()=>Y,s$:()=>X,bl:()=>ae,rW:()=>ce,rT:()=>ve,NP:()=>M,Xp:()=>re});const y=(E={AxisBottom:()=>e.AxisBottom,AxisLeft:()=>e.AxisLeft},R={},v.d(R,E),R);var E,R;const O=(e=>{var t={};return v.d(t,e),t})({localPoint:()=>t.localPoint}),w=(e=>{var t={};return v.d(t,e),t})({Group:()=>a.Group}),x=(e=>{var t={};return v.d(t,e),t})({scaleBand:()=>r.scaleBand,scaleLinear:()=>r.scaleLinear,scaleOrdinal:()=>r.scaleOrdinal}),P=(e=>{var t={};return v.d(t,e),t})({Bar:()=>n.Bar,Pie:()=>n.Pie}),C=(e=>{var t={};return v.d(t,e),t})({useTooltip:()=>o.useTooltip}),L=(e=>{var t={};return v.d(t,e),t})({default:()=>l.default}),S=(e=>{var t={};return v.d(t,e),t})({createContext:()=>i.createContext,default:()=>i.default,useCallback:()=>i.useCallback,useContext:()=>i.useContext});function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function j(e,t,a){return(t=function(e){var t=function(e){if("object"!=T(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=T(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==T(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var A={backgroundColor:"#FFFFFF",labelBackgroundColor:"#FFFFFF",colors:["#98C8DF","#006DAB","#A6DC80","#1F9828","#FF8C8F"],gridStyles:{stroke:"#787C82",strokeWidth:1},tickLength:0,gridColor:"",gridColorDark:""};function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function D(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(Object(a),!0).forEach((function(t){j(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var N=(0,S.createContext)(A),F=function(){return(0,S.useContext)(N)},M=function(e){var t=e.theme,a=void 0===t?{}:t,r=e.children,n=D(D({},A),a);return React.createElement(N.Provider,{value:n},r)};const B=(e=>{var t={};return v.d(t,e),t})({GridColumns:()=>c.GridColumns,GridRows:()=>c.GridRows}),_=function(e){var t=e.width,a=e.height,r=e.xScale,n=e.yScale,o=e.gridVisibility,l=void 0===o?"x":o,i=e.top,c=void 0===i?0:i;return S.default.createElement("g",{transform:"translate(0, ".concat(c,")"),className:"jfpeES0fbFrqCPR8dRN7"},l.includes("x")&&S.default.createElement(B.GridRows,{scale:r,width:t}),l.includes("y")&&S.default.createElement(B.GridColumns,{scale:n,height:a}))},G=(e=>{var t={};return v.d(t,e),t})({LegendOrdinal:()=>u.LegendOrdinal}),I={"legend--horizontal":"b1_5FxxoK4aEFLoe67IA","legend--vertical":"vpmQkJAPhp3XJ9Wb6vOw","legend-item":"IKM8KG1lF9e5NzDqMLOJ","legend-item-swatch":"_eccyBq0v2puKsHw8XND","legend-item-label":"UeZrUEpEK0tLzXHmeUco","legend-item-value":"R5msPOYKm79jYV13H0v7"};var K={horizontal:"row",vertical:"column"},X=function(e){var t=e.items,a=e.className,r=e.orientation,n=void 0===r?"horizontal":r,o=(0,x.scaleOrdinal)({domain:t.map((function(e){return e.label})),range:t.map((function(e){return e.color}))});return React.createElement("div",{className:(0,L.default)(I.legend,I["legend--".concat(n)],a),role:"list"},React.createElement(G.LegendOrdinal,{scale:o,direction:K[n],shape:"rect",shapeWidth:16,shapeHeight:16,className:I["legend-items"]},(function(e){return React.createElement("div",{className:I["legend--".concat(n)]},e.map((function(e){var a,r;return React.createElement("div",{key:e.text,className:I["legend-item"]},React.createElement("svg",{width:16,height:16},React.createElement("rect",{width:16,height:16,fill:e.value,className:I["legend-item-swatch"]})),React.createElement("span",{className:I["legend-item-label"]},e.text,(null===(a=t.find((function(t){return t.label===e.text})))||void 0===a?void 0:a.value)&&React.createElement("span",{className:I["legend-item-value"]},null===(r=t.find((function(t){return t.label===e.text})))||void 0===r?void 0:r.value)))})))})))};function z(){return z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},z.apply(null,arguments)}const W=(e=>{var t={};return v.d(t,e),t})({useParentSize:()=>s.useParentSize});function H(e,t){var a=t||{},r=a.maxWidth,n=void 0===r?1200:r,o=a.aspectRatio,l=void 0===o?.5:o,i=a.debounceTime,c=void 0===i?50:i;return function(t){var a=(0,W.useParentSize)({debounceTime:c,enableDebounceLeadingCall:!0,initialSize:{width:600,height:400}}),r=a.parentRef,o=a.width,i=o?Math.min(o,n):600,u=i*l;return React.createElement("div",{ref:r,style:{width:"100%",minHeight:"".concat(u,"px")}},React.createElement(e,z({width:i,height:u},t)))}}var V=function(e){var t=e.data;return React.createElement(React.Fragment,null,null==t?void 0:t.label,": ",(null==t?void 0:t.valueDisplay)||(null==t?void 0:t.value))},Y=function(e){var t=e.data,a=e.top,r=e.left,n=e.component,o=void 0===n?V:n,l=e.children,i=e.className;return React.createElement("div",{className:"Jmgc7XAf2uAyK5059rBe",style:{top:a,left:r},role:"tooltip"},l||t&&React.createElement(o,{data:t,className:i}))};const J={"bar-chart":"Vm_cn8YnIXBavFt6eHSp","bar-chart-legend":"e4dhKgBP7e6FBRAX2SrP"};var q=function(e){var t,a=e.data,r=e.margin,n=void 0===r?{top:20,right:20,bottom:40,left:40}:r,o=e.withTooltips,l=void 0!==o&&o,i=e.showLegend,c=void 0!==i&&i,u=e.legendOrientation,s=void 0===u?"horizontal":u,d=e.className,m=e.gridVisibility,p=void 0===m?"x":m,v=e.width,f=e.height,h=void 0===f?400:f,b=F(),E=(0,C.useTooltip)(),R=E.tooltipOpen,T=E.tooltipLeft,j=E.tooltipTop,A=E.tooltipData,k=E.hideTooltip,D=E.showTooltip,N=(0,S.useCallback)((function(e,t,a,r,n){var o=(0,O.localPoint)(e);o&&D({tooltipData:{value:t,xLabel:a,yLabel:r,seriesIndex:n},tooltipLeft:o.x,tooltipTop:o.y-10})}),[D]),M=(0,S.useCallback)((function(){k()}),[k]);if(null==a||!a.length)return React.createElement("div",{className:(0,L.default)("bar-chart-empty",J["bat-chart-empty"])},"Empty...");var B=n,G=v-B.left-B.right,I=h-B.top-B.bottom,K=null===(t=a[0].data)||void 0===t?void 0:t.map((function(e){return(null==e?void 0:e.label)||""})),z=(0,x.scaleBand)({range:[0,G],domain:K,padding:.2}),W=(0,x.scaleBand)({range:[0,z.bandwidth()],domain:a.map((function(e,t){return t.toString()})),padding:.1}),H=(0,x.scaleLinear)({range:[I,0],domain:[0,Math.max.apply(Math,g(a.map((function(e){return Math.max.apply(Math,g(e.data.map((function(e){return(null==e?void 0:e.value)||0}))))}))))]}),V=a.map((function(e,t){return{label:e.label,value:"",color:b.colors[t%b.colors.length]}}));return React.createElement("div",{className:(0,L.default)("bar-chart",d,J["bar-chart"])},React.createElement("svg",{width:v,height:h},React.createElement(w.Group,{left:B.left,top:B.top},React.createElement(_,{width:G,height:I,xScale:z,yScale:H,gridVisibility:p}),a.map((function(e,t){return React.createElement(w.Group,{key:t},e.data.map((function(a){var r,n,o=z((null==a?void 0:a.label)||"");if(void 0===o)return null;var i=W.bandwidth(),c=o+(null!==(r=W(t.toString()))&&void 0!==r?r:0);return React.createElement(P.Bar,{key:"bar-".concat(t,"-").concat(a.label),x:c,y:H(a.value),width:i,height:I-(null!==(n=H(a.value))&&void 0!==n?n:0),fill:b.colors[t%b.colors.length],onMouseMove:l?function(r){return N(r,a.value,(null==a?void 0:a.label)||"",e.label,t)}:void 0,onMouseLeave:l?M:void 0})})))})),React.createElement(y.AxisLeft,{scale:H}),React.createElement(y.AxisBottom,{scale:z,top:I}))),l&&R&&A&&React.createElement(Y,{top:j||0,left:T||0},React.createElement("div",null,React.createElement("div",null,A.yLabel),React.createElement("div",null,A.xLabel,": ",A.value))),c&&React.createElement(X,{items:V,orientation:s,className:J["bar-chart-legend"]}))};q.displayName="BarChart";const U=H(q);function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,o,l,i=[],c=!0,u=!1;try{if(o=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;c=!1}else for(;!(c=(r=o.call(a)).done)&&(i.push(r.value),i.length!==t);c=!0);}catch(e){u=!0,n=e}finally{try{if(!c&&null!=a.return&&(l=a.return(),Object(l)!==l))return}finally{if(u)throw n}}return i}}(e,t)||b(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const $=(e=>{var t={};return v.d(t,e),t})({AnimatedAxis:()=>d.AnimatedAxis,AnimatedGrid:()=>d.AnimatedGrid,AnimatedLineSeries:()=>d.AnimatedLineSeries,Tooltip:()=>d.Tooltip,XYChart:()=>d.XYChart,buildChartTheme:()=>d.buildChartTheme}),Z={"line-chart":"vbyo4J2HC_KvyGgsWui7","line-chart__tooltip":"nLSohGgB7OyUmLRN_dLD","line-chart__tooltip-date":"MGw7UT3IImVKXXuBYmwf","line-chart__tooltip-row":"KwvDxit9dbF2E6ZzF29e","line-chart__tooltip-label":"WmFS4ekGu9e3G6URbkhd"};var ee=function(e){var t,a=e.tooltipData,r=null==a||null===(t=a.nearestDatum)||void 0===t?void 0:t.datum;if(!r)return null;var n=Object.entries((null==a?void 0:a.datumByKey)||{}).map((function(e){var t=Q(e,2);return{key:t[0],value:t[1].datum.value}})).sort((function(e,t){return t.value-e.value}));return React.createElement("div",{className:Z["line-chart__tooltip"]},React.createElement("div",{className:Z["line-chart__tooltip-date"]},r.date.toLocaleDateString()),n.map((function(e){return React.createElement("div",{key:e.key,className:Z["line-chart__tooltip-row"]},React.createElement("span",{className:Z["line-chart__tooltip-label"]},e.key,":"),React.createElement("span",{className:Z["line-chart__tooltip-value"]},e.value))})))},te=function(e){return new Date(e).toLocaleDateString(void 0,{month:"short",day:"numeric"})};const ae=H((function(e){var t=e.data,a=e.width,r=e.height,n=e.margin,o=void 0===n?{top:20,right:20,bottom:40,left:40}:n,l=e.className,i=e.withTooltips,c=void 0===i||i,u=e.showLegend,s=void 0!==u&&u,d=e.legendOrientation,m=void 0===d?"horizontal":d,p=F();if(null==t||!t.length)return React.createElement("div",{className:(0,L.default)("line-chart-empty",Z["line-chart-empty"])},"Empty...");var v=t.map((function(e,t){return{label:e.label,value:"",color:p.colors[t%p.colors.length]}})),f={xAccessor:function(e){return e.date},yAccessor:function(e){return e.value}},h=(0,$.buildChartTheme)({backgroundColor:p.backgroundColor,colors:p.colors,gridStyles:p.gridStyles,tickLength:(null==p?void 0:p.tickLength)||0,gridColor:(null==p?void 0:p.gridColor)||"",gridColorDark:(null==p?void 0:p.gridColorDark)||""});return React.createElement("div",{className:(0,L.default)("line-chart",Z["line-chart"],l)},React.createElement($.XYChart,{theme:h,width:a,height:r,margin:o,xScale:{type:"time"},yScale:{type:"linear",nice:!0}},React.createElement($.AnimatedGrid,{columns:!1,numTicks:4}),React.createElement($.AnimatedAxis,{orientation:"bottom",numTicks:5,tickFormat:te}),React.createElement($.AnimatedAxis,{orientation:"left",numTicks:4}),t.map((function(e,t){return React.createElement($.AnimatedLineSeries,z({key:null==e?void 0:e.label,dataKey:null==e?void 0:e.label,data:e.data},f,{stroke:h.colors[t%h.colors.length],strokeWidth:2}))})),c&&React.createElement($.Tooltip,{snapTooltipToDatumX:!0,snapTooltipToDatumY:!0,showSeriesGlyphs:!0,renderTooltip:ee})),s&&React.createElement(X,{items:v,orientation:m,className:Z["line-chart-legend"]}))})),re=function(e){var t=e.withTooltips,a=(0,C.useTooltip)(),r=a.tooltipOpen,n=a.tooltipLeft,o=a.tooltipTop,l=a.tooltipData,i=a.hideTooltip,c=a.showTooltip;return{onMouseMove:(0,S.useCallback)((function(e,a){if(t){var r=(0,O.localPoint)(e);r&&c({tooltipData:a,tooltipLeft:r.x,tooltipTop:r.y-10})}}),[t,c]),onMouseLeave:(0,S.useCallback)((function(){t&&i()}),[t,i]),tooltipOpen:r,tooltipData:l||null,tooltipLeft:n,tooltipTop:o}},ne={"pie-chart":"R2Ly_tkJtgL0HA8P3fpm"};function oe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function le(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(a),!0).forEach((function(t){j(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):oe(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ie=function(e){var t=e.data,a=e.width,r=void 0===a?500:a,n=e.height,o=void 0===n?500:n,l=e.withTooltips,i=void 0!==l&&l,c=e.innerRadius,u=void 0===c?0:c,s=e.className,d=e.showLegend,m=e.legendOrientation,p=F(),v=re({withTooltips:i}),f=v.onMouseMove,h=v.onMouseLeave,b=v.tooltipOpen,g=v.tooltipData,y=v.tooltipLeft,E=v.tooltipTop,R=Math.min(r,o)/2,O=r/2,x=o/2,C=t.map((function(e,t){return le(le({},e),{},{index:t})})),S={value:function(e){return e.value},fill:function(e){return(null==e?void 0:e.color)||p.colors[e.index]}},T=t.map((function(e,t){return{label:e.label,value:e.value.toString(),color:p.colors[t%p.colors.length]}}));return React.createElement("div",{className:(0,L.default)("pie-chart",ne["pie-chart"],s)},React.createElement("svg",{width:r,height:o},React.createElement(w.Group,{top:x,left:O},React.createElement(P.Pie,{data:C,pieValue:S.value,outerRadius:R-20,innerRadius:u},(function(e){return e.arcs.map((function(t,a){var r=Q(e.path.centroid(t),2),n=r[0],o=r[1],l=t.endAngle-t.startAngle>=.25,c={d:e.path(t)||"",fill:S.fill(t.data)};return i&&(c.onMouseMove=function(e){return f(e,t.data)},c.onMouseLeave=h),React.createElement("g",{key:"arc-".concat(a)},React.createElement("path",c),l&&React.createElement("text",{x:n,y:o,dy:".33em",fill:p.labelBackgroundColor||A.labelBackgroundColor,fontSize:12,textAnchor:"middle",pointerEvents:"none"},t.data.label))}))})))),d&&React.createElement(X,{items:T,orientation:m,className:ne["pie-chart-legend"]}),i&&b&&g&&React.createElement(Y,{data:g,top:E||0,left:y||0,style:{transform:"translate(-50%, -100%)"}}))};ie.displayName="PieChart";const ce=H(ie),ue=(e=>{var t={};return v.d(t,e),t})({default:()=>m.default}),se=(e=>{var t={};return v.d(t,e),t})({Text:()=>p.Text});function de(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function me(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?de(Object(a),!0).forEach((function(t){j(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):de(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var pe=function(e){var t=e.data,a=e.width,r=void 0===a?500:a,n=e.label,o=e.note,l=e.className,i=e.withTooltips,c=void 0!==i&&i,u=e.clockwise,s=void 0===u||u,d=e.thickness,m=void 0===d?.4:d,p=e.showLegend,v=e.legendOrientation,f=F(),h=(0,C.useTooltip)(),b=h.tooltipOpen,g=h.tooltipLeft,y=h.tooltipTop,E=h.tooltipData,R=h.hideTooltip,x=h.showTooltip,P=r/2,T=r/2,j=r/2,A=j*(1-m+.03),k=t.map((function(e,t){return me(me({},e),{},{index:t})})),D=s?-Math.PI/2:Math.PI/2,N=s?Math.PI/2:-Math.PI/2,M={value:function(e){return e.value},sort:function(e,t){return t.value-e.value},fill:function(e){return e.color||f.colors[e.index%f.colors.length]}},B=(0,S.useCallback)((function(e,t){var a=(0,O.localPoint)(e);a&&x({tooltipData:t.data,tooltipLeft:a.x,tooltipTop:a.y-10})}),[x]),_=(0,S.useCallback)((function(){R()}),[R]),G=(0,S.useCallback)((function(e){return function(t){B(t,e)}}),[B]),I=t.map((function(e,t){return{label:e.label,value:e.valueDisplay||e.value.toString(),color:M.fill(me(me({},e),{},{index:t}))}}));return React.createElement("div",{className:(0,L.default)("pie-semi-circle-chart","oJsjYo330oeLpWqpqf4w",l)},React.createElement("svg",{width:r,height:T},React.createElement(w.Group,{top:P,left:P},React.createElement(ue.default,{data:k,pieValue:M.value,outerRadius:j,innerRadius:A,cornerRadius:3,padAngle:.03,startAngle:D,endAngle:N,pieSort:M.sort},(function(e){return e.arcs.map((function(t){return React.createElement("g",{key:t.data.label,onMouseMove:G(t),onMouseLeave:_},React.createElement("path",{d:e.path(t)||"",fill:M.fill(t.data)}))}))})),React.createElement(w.Group,null,React.createElement(se.Text,{textAnchor:"middle",verticalAnchor:"start",y:-40,className:"bxF3iRlHVJNqwEjRY9QD"},n),React.createElement(se.Text,{textAnchor:"middle",verticalAnchor:"start",y:-20,className:"tA3u0r3RunHmbWFBLrqW"},o)))),c&&b&&E&&React.createElement(Y,{data:{label:E.label,value:E.value,valueDisplay:E.valueDisplay},top:y||0,left:g||0}),p&&React.createElement(X,{items:I,orientation:v,className:"aV40KcaCeoEycQ2crVkB"}))};pe.displayName="PieSemiCircleChart";const ve=H(pe);var fe=f.Es,he=f.RL,be=f.s$,ge=f.bl,ye=f.rW,Ee=f.rT,Re=f.NP,Oe=f.Xp;export{fe as BarChart,he as BaseTooltip,be as Legend,ge as LineChart,ye as PieChart,Ee as PieSemiCircleChart,Re as ThemeProvider,Oe as useChartMouseHandler};
//# sourceMappingURL=index.js.map